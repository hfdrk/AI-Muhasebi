{"numTotalTestSuites":60,"numPassedTestSuites":60,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":71,"numPassedTests":50,"numFailedTests":21,"numPendingTests":0,"numTodoTests":0,"startTime":1764891175445,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/register"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/register should create User, Tenant, and UserTenantMembership with TenantOwner role","status":"passed","title":"should create User, Tenant, and UserTenantMembership with TenantOwner role","duration":1243,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/register"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/register should fail with duplicate email","status":"failed","title":"should fail with duplicate email","duration":30904,"failureMessages":["Test timed out in 30000ms.\nIf this is a long-running test, pass a timeout value as the last argument or configure it globally with \"testTimeout\"."]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/register"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/register should fail with duplicate tenant slug","status":"failed","title":"should fail with duplicate tenant slug","duration":31062,"failureMessages":["Test timed out in 30000ms.\nIf this is a long-running test, pass a timeout value as the last argument or configure it globally with \"testTimeout\"."]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/login"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/login should succeed with correct credentials","status":"passed","title":"should succeed with correct credentials","duration":1500,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/login"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/login should fail with wrong password","status":"failed","title":"should fail with wrong password","duration":30858,"failureMessages":["Test timed out in 30000ms.\nIf this is a long-running test, pass a timeout value as the last argument or configure it globally with \"testTimeout\"."]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/login"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/login should fail with non-existent email","status":"failed","title":"should fail with non-existent email","duration":31007,"failureMessages":["Test timed out in 30000ms.\nIf this is a long-running test, pass a timeout value as the last argument or configure it globally with \"testTimeout\"."]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","Tenant Isolation"],"fullName":" Auth & Tenant Flow Integration Tests Tenant Isolation should prevent user from Tenant A accessing Tenant B's data","status":"failed","title":"should prevent user from Tenant A accessing Tenant B's data","duration":31001,"failureMessages":["Test timed out in 30000ms.\nIf this is a long-running test, pass a timeout value as the last argument or configure it globally with \"testTimeout\"."]}],"startTime":1764891250213,"endTime":1764891407790,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/auth-routes.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Core Domain Integration Tests","Client Companies"],"fullName":" Core Domain Integration Tests Client Companies should create client company successfully","status":"passed","title":"should create client company successfully","duration":2297,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Client Companies"],"fullName":" Core Domain Integration Tests Client Companies should fail on duplicate tax number within same tenant","status":"failed","title":"should fail on duplicate tax number within same tenant","duration":61332,"failureMessages":["Hook timed out in 60000ms.\nIf this is a long-running hook, pass a timeout value as the last argument or configure it globally with \"hookTimeout\"."]},{"ancestorTitles":["","Core Domain Integration Tests","Client Companies"],"fullName":" Core Domain Integration Tests Client Companies should filter companies by tenant_id","status":"failed","title":"should filter companies by tenant_id","duration":2329,"failureMessages":["expected 200 \"OK\", got 401 \"Unauthorized\""],"location":{"line":107,"column":10}},{"ancestorTitles":["","Core Domain Integration Tests","Invoices"],"fullName":" Core Domain Integration Tests Invoices should create invoice with lines and totals match","status":"failed","title":"should create invoice with lines and totals match","duration":61402,"failureMessages":["Hook timed out in 60000ms.\nIf this is a long-running hook, pass a timeout value as the last argument or configure it globally with \"hookTimeout\"."]},{"ancestorTitles":["","Core Domain Integration Tests","Invoices"],"fullName":" Core Domain Integration Tests Invoices should list invoices filtered by tenant","status":"failed","title":"should list invoices filtered by tenant","duration":1409,"failureMessages":["\nInvalid `prisma.invoice.create()` invocation in\n/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/test-utils/test-factories.ts:63:31\n\n  60   netAmount = 820,\n  61 } = data;\n  62 \n→ 63 return await prisma.invoice.create({\n       data: {\n         tenantId: \"cmis2pr38005p9ykrsmdn1cgq\",\n         clientCompanyId: \"cmis2prao005w9ykr6uvp95vg\",\n         externalId: \"INV-1764891306099\",\n         issueDate: new Date(\"2025-12-04T23:35:06.099Z\"),\n         dueDate: new Date(\"2026-01-03T23:35:06.099Z\"),\n         totalAmount: 1000,\n         vatAmount: 180,\n         netAmount: 820,\n         status: \"taslak\",\n         currency: \"TRY\",\n     +   type: String\n       }\n     })\n\nArgument `type` is missing."],"location":{"line":29,"column":1363}},{"ancestorTitles":["","Core Domain Integration Tests","Transactions"],"fullName":" Core Domain Integration Tests Transactions should create transaction with debit_total = credit_total","status":"passed","title":"should create transaction with debit_total = credit_total","duration":1413,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Transactions"],"fullName":" Core Domain Integration Tests Transactions should fail if debit_total ≠ credit_total","status":"failed","title":"should fail if debit_total ≠ credit_total","duration":31386,"failureMessages":["Test timed out in 30000ms.\nIf this is a long-running test, pass a timeout value as the last argument or configure it globally with \"testTimeout\"."]},{"ancestorTitles":["","Core Domain Integration Tests","Transactions"],"fullName":" Core Domain Integration Tests Transactions should filter transactions by tenant","status":"passed","title":"should filter transactions by tenant","duration":1738,"failureMessages":[]}],"startTime":1764891177335,"endTime":1764891340641,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/core-domain.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Documents & Processing Integration Tests","POST /api/v1/documents/upload"],"fullName":" Documents & Processing Integration Tests POST /api/v1/documents/upload should create Document with status UPLOADED","status":"passed","title":"should create Document with status UPLOADED","duration":1546,"failureMessages":[]},{"ancestorTitles":["","Documents & Processing Integration Tests","Document Processing"],"fullName":" Documents & Processing Integration Tests Document Processing should process document and create OCR result, parsed data, and risk features","status":"passed","title":"should process document and create OCR result, parsed data, and risk features","duration":1491,"failureMessages":[]},{"ancestorTitles":["","Documents & Processing Integration Tests","Tenant Isolation"],"fullName":" Documents & Processing Integration Tests Tenant Isolation should prevent user from another tenant accessing document","status":"failed","title":"should prevent user from another tenant accessing document","duration":1767,"failureMessages":["fetch failed"],"location":{"line":142,"column":20}}],"startTime":1764891369000,"endTime":1764891373804,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/documents.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Integrations & Sync Integration Tests","TenantIntegration with MockAccountingProvider"],"fullName":" Integrations & Sync Integration Tests TenantIntegration with MockAccountingProvider should create integration and test connection successfully","status":"failed","title":"should create integration and test connection successfully","duration":31478,"failureMessages":["Test timed out in 30000ms.\nIf this is a long-running test, pass a timeout value as the last argument or configure it globally with \"testTimeout\"."]},{"ancestorTitles":["","Integrations & Sync Integration Tests","TenantIntegration with MockAccountingProvider"],"fullName":" Integrations & Sync Integration Tests TenantIntegration with MockAccountingProvider should create sync job and process it successfully","status":"failed","title":"should create sync job and process it successfully","duration":1375,"failureMessages":["\nInvalid `prisma.tenantIntegration.create()` invocation in\n/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/integrations.integration.test.ts:120:58\n\n  117 \n  118 it(\"should create sync job and process it successfully\", async () => {\n  119   // Create integration\n→ 120   const integration = await prisma.tenantIntegration.create({\n          data: {\n            tenantId: \"cmis2nu75002q9ykr1ilimybj\",\n            clientCompanyId: \"cmis2nuew002x9ykrm0apiu2k\",\n            providerId: \"cmis2nuez002y9ykr1r94hx6f\",\n            status: \"connected\",\n            config: {\n              apiKey: \"test-api-key\"\n            },\n            lastSyncStatus: \"pending\",\n        +   displayName: String\n          }\n        })\n\nArgument `displayName` is missing."],"location":{"line":29,"column":1363}},{"ancestorTitles":["","Integrations & Sync Integration Tests","TenantIntegration with MockBankProvider"],"fullName":" Integrations & Sync Integration Tests TenantIntegration with MockBankProvider should create bank integration and sync transactions","status":"failed","title":"should create bank integration and sync transactions","duration":1338,"failureMessages":["\nInvalid `prisma.tenantIntegration.create()` invocation in\n/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/integrations.integration.test.ts:182:58\n\n  179 describe(\"TenantIntegration with MockBankProvider\", () => {\n  180   it(\"should create bank integration and sync transactions\", async () => {\n  181     // Create bank integration\n→ 182     const integration = await prisma.tenantIntegration.create({\n            data: {\n              tenantId: \"cmis2nv8t00339ykrfzkieqif\",\n              clientCompanyId: \"cmis2nvg6003a9ykrlmfj1m9k\",\n              providerId: \"cmis2nvgc003c9ykr5p2hphvj\",\n              status: \"connected\",\n              config: {\n                apiKey: \"test-bank-api-key\"\n              },\n              lastSyncStatus: \"pending\",\n          +   displayName: String\n            }\n          })\n\nArgument `displayName` is missing."],"location":{"line":29,"column":1363}},{"ancestorTitles":["","Integrations & Sync Integration Tests","Tenant Isolation"],"fullName":" Integrations & Sync Integration Tests Tenant Isolation should scope all integration data to correct tenant","status":"failed","title":"should scope all integration data to correct tenant","duration":1390,"failureMessages":["\nInvalid `prisma.tenantIntegration.create()` invocation in\n/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/integrations.integration.test.ts:239:59\n\n  236 describe(\"Tenant Isolation\", () => {\n  237   it(\"should scope all integration data to correct tenant\", async () => {\n  238     // Create integration in test user's tenant\n→ 239     const integration1 = await prisma.tenantIntegration.create({\n            data: {\n              tenantId: \"cmis2nwar003g9ykr3oq4xewc\",\n              clientCompanyId: \"cmis2nwit003n9ykrofv96xrt\",\n              providerId: \"cmis2nwix003o9ykrrq3yknid\",\n              status: \"connected\",\n              config: {\n                apiKey: \"key1\"\n              },\n          +   displayName: String\n            }\n          })\n\nArgument `displayName` is missing."],"location":{"line":29,"column":1363}}],"startTime":1764891183984,"endTime":1764891219566,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/integrations.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should allow TenantOwner to invite users","status":"failed","title":"should allow TenantOwner to invite users","duration":3388,"failureMessages":["expected undefined not to be undefined"],"location":{"line":89,"column":40}},{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should allow Accountant to invite users","status":"failed","title":"should allow Accountant to invite users","duration":3132,"failureMessages":["expected 201 \"Created\", got 403 \"Forbidden\""],"location":{"line":101,"column":10}},{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should deny ReadOnly user from inviting users","status":"failed","title":"should deny ReadOnly user from inviting users","duration":3032,"failureMessages":["expected 'Bu işlemi yapmak için yetkiniz yok.' to contain 'permission'"],"location":{"line":118,"column":43}},{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should deny Staff user from inviting users","status":"passed","title":"should deny Staff user from inviting users","duration":2976,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","GET /api/v1/tenants/:tenantId/users"],"fullName":" RBAC Integration Tests GET /api/v1/tenants/:tenantId/users should allow all roles to read users list","status":"failed","title":"should allow all roles to read users list","duration":3042,"failureMessages":["expected 200 \"OK\", got 403 \"Forbidden\""],"location":{"line":150,"column":10}},{"ancestorTitles":["","RBAC Integration Tests","Document operations"],"fullName":" RBAC Integration Tests Document operations should allow TenantOwner to create documents","status":"passed","title":"should allow TenantOwner to create documents","duration":2954,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","Document operations"],"fullName":" RBAC Integration Tests Document operations should deny ReadOnly user from creating documents","status":"failed","title":"should deny ReadOnly user from creating documents","duration":3046,"failureMessages":["expected 'Bu işlemi yapmak için yetkiniz yok.' to contain 'permission'"],"location":{"line":196,"column":43}}],"startTime":1764891341663,"endTime":1764891363233,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/rbac.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","OCR Service"],"fullName":" AI Pipeline & Risk Features Integration Tests OCR Service should return non-empty raw_text and engineName for PDF file","status":"passed","title":"should return non-empty raw_text and engineName for PDF file","duration":895,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","OCR Service"],"fullName":" AI Pipeline & Risk Features Integration Tests OCR Service should return non-empty raw_text and engineName for image file","status":"passed","title":"should return non-empty raw_text and engineName for image file","duration":862,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Document Parser Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Document Parser Service should parse OCR text for invoice type and return structured data","status":"passed","title":"should parse OCR text for invoice type and return structured data","duration":1122,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Document Parser Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Document Parser Service should parse OCR text for bank statement type","status":"passed","title":"should parse OCR text for bank statement type","duration":1108,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Risk Feature Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Risk Feature Service should generate risk features with DUE_BEFORE_ISSUE flag when due_date < issue_date","status":"passed","title":"should generate risk features with DUE_BEFORE_ISSUE flag when due_date < issue_date","duration":1276,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Risk Feature Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Risk Feature Service should generate risk features with DUPLICATE_INVOICE_NUMBER flag","status":"failed","title":"should generate risk features with DUPLICATE_INVOICE_NUMBER flag","duration":1110,"failureMessages":["\nInvalid `prisma.invoice.create()` invocation in\n/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/ai-pipeline.integration.test.ts:183:45\n\n  180 });\n  181 \n  182 // Create first invoice with number INV-001\n→ 183 const invoice1 = await prisma.invoice.create({\n        data: {\n          tenantId: \"cmis2o5lc004c9ykr7fd88bic\",\n          clientCompanyId: \"cmis2o5lh004h9ykrosd3wzt1\",\n          externalId: \"INV-001\",\n          type: \"SATIŞ\",\n          issueDate: new Date(\"2024-01-01T00:00:00.000Z\"),\n          dueDate: new Date(\"2024-01-31T00:00:00.000Z\"),\n          totalAmount: 1000,\n          vatAmount: 180,\n          ~~~~~~~~~\n          taxAmount: 180,\n          netAmount: 820,\n          status: \"taslak\",\n          currency: \"TRY\",\n      ?   id?: String,\n      ?   counterpartyName?: String | Null,\n      ?   counterpartyTaxNumber?: String | Null,\n      ?   source?: String,\n      ?   createdAt?: DateTime,\n      ?   updatedAt?: DateTime,\n      ?   lines?: InvoiceLineUncheckedCreateNestedManyWithoutInvoiceInput,\n      ?   relatedDocuments?: DocumentUncheckedCreateNestedManyWithoutRelatedInvoiceInput\n        }\n      })\n\nUnknown argument `vatAmount`. Did you mean `taxAmount`? Available options are marked with ?."],"location":{"line":29,"column":1363}}],"startTime":1764891224957,"endTime":1764891231330,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/ai-pipeline.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","ClientCompanyService","listClientCompanies"],"fullName":" ClientCompanyService listClientCompanies should return paginated list of client companies for a tenant","status":"passed","title":"should return paginated list of client companies for a tenant","duration":906,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","listClientCompanies"],"fullName":" ClientCompanyService listClientCompanies should filter by isActive when provided","status":"passed","title":"should filter by isActive when provided","duration":849,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","listClientCompanies"],"fullName":" ClientCompanyService listClientCompanies should search by name or tax number when search filter is provided","status":"passed","title":"should search by name or tax number when search filter is provided","duration":983,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","getClientCompanyById"],"fullName":" ClientCompanyService getClientCompanyById should return client company with stats when found","status":"passed","title":"should return client company with stats when found","duration":868,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","getClientCompanyById"],"fullName":" ClientCompanyService getClientCompanyById should throw NotFoundError when client company not found","status":"passed","title":"should throw NotFoundError when client company not found","duration":889,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","createClientCompany"],"fullName":" ClientCompanyService createClientCompany should create a new client company","status":"passed","title":"should create a new client company","duration":897,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","createClientCompany"],"fullName":" ClientCompanyService createClientCompany should throw ValidationError when tax number already exists","status":"passed","title":"should throw ValidationError when tax number already exists","duration":950,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","updateClientCompany"],"fullName":" ClientCompanyService updateClientCompany should update an existing client company","status":"passed","title":"should update an existing client company","duration":937,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","updateClientCompany"],"fullName":" ClientCompanyService updateClientCompany should throw NotFoundError when client company not found","status":"passed","title":"should throw NotFoundError when client company not found","duration":913,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","deleteClientCompany"],"fullName":" ClientCompanyService deleteClientCompany should delete an existing client company","status":"passed","title":"should delete an existing client company","duration":1140,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","deleteClientCompany"],"fullName":" ClientCompanyService deleteClientCompany should throw NotFoundError when client company not found","status":"passed","title":"should throw NotFoundError when client company not found","duration":1500,"failureMessages":[]}],"startTime":1764891231744,"endTime":1764891242577,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/client-company-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should return AI analysis for a document","status":"passed","title":"should return AI analysis for a document","duration":854,"failureMessages":[]},{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should throw NotFoundError when document not found","status":"passed","title":"should throw NotFoundError when document not found","duration":745,"failureMessages":[]},{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should enforce tenant isolation","status":"passed","title":"should enforce tenant isolation","duration":973,"failureMessages":[]},{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should return null for missing AI results","status":"passed","title":"should return null for missing AI results","duration":977,"failureMessages":[]}],"startTime":1764891408339,"endTime":1764891411888,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/document-ai-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","DocumentService","uploadDocument"],"fullName":" DocumentService uploadDocument should upload a document successfully","status":"passed","title":"should upload a document successfully","duration":1247,"failureMessages":[]},{"ancestorTitles":["","DocumentService","uploadDocument"],"fullName":" DocumentService uploadDocument should throw ValidationError when client company doesn't belong to tenant","status":"passed","title":"should throw ValidationError when client company doesn't belong to tenant","duration":1126,"failureMessages":[]},{"ancestorTitles":["","DocumentService","uploadDocument"],"fullName":" DocumentService uploadDocument should throw ValidationError when file size exceeds limit","status":"passed","title":"should throw ValidationError when file size exceeds limit","duration":870,"failureMessages":[]},{"ancestorTitles":["","DocumentService","listDocuments"],"fullName":" DocumentService listDocuments should return paginated list of documents for a tenant","status":"passed","title":"should return paginated list of documents for a tenant","duration":891,"failureMessages":[]},{"ancestorTitles":["","DocumentService","getDocumentById"],"fullName":" DocumentService getDocumentById should return document with extracted data when found","status":"passed","title":"should return document with extracted data when found","duration":837,"failureMessages":[]},{"ancestorTitles":["","DocumentService","getDocumentById"],"fullName":" DocumentService getDocumentById should throw NotFoundError when document not found","status":"passed","title":"should throw NotFoundError when document not found","duration":846,"failureMessages":[]},{"ancestorTitles":["","DocumentService","deleteDocument"],"fullName":" DocumentService deleteDocument should soft delete a document","status":"passed","title":"should soft delete a document","duration":834,"failureMessages":[]}],"startTime":1764891242934,"endTime":1764891249588,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/document-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","InvoiceService","createInvoice"],"fullName":" InvoiceService createInvoice should create an invoice with lines","status":"passed","title":"should create an invoice with lines","duration":878,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","createInvoice"],"fullName":" InvoiceService createInvoice should throw ValidationError when client company doesn't belong to tenant","status":"passed","title":"should throw ValidationError when client company doesn't belong to tenant","duration":878,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","updateInvoiceStatus"],"fullName":" InvoiceService updateInvoiceStatus should update invoice status","status":"passed","title":"should update invoice status","duration":880,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","updateInvoiceStatus"],"fullName":" InvoiceService updateInvoiceStatus should throw NotFoundError when invoice not found","status":"passed","title":"should throw NotFoundError when invoice not found","duration":991,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","listInvoices"],"fullName":" InvoiceService listInvoices should return paginated list of invoices for a tenant","status":"passed","title":"should return paginated list of invoices for a tenant","duration":873,"failureMessages":[]}],"startTime":1764891363694,"endTime":1764891368195,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/invoice-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Document Risk Scoring"],"fullName":" Risk Engine & Alerts Integration Tests Document Risk Scoring should compute risk score with severity and triggered rule codes","status":"passed","title":"should compute risk score with severity and triggered rule codes","duration":2133,"failureMessages":[]},{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Company Risk Scoring"],"fullName":" Risk Engine & Alerts Integration Tests Company Risk Scoring should generate ClientCompanyRiskScore with correct severity","status":"passed","title":"should generate ClientCompanyRiskScore with correct severity","duration":1594,"failureMessages":[]},{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Risk Alerts"],"fullName":" Risk Engine & Alerts Integration Tests Risk Alerts should create RiskAlert for high-risk document","status":"passed","title":"should create RiskAlert for high-risk document","duration":1172,"failureMessages":[]},{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Risk Alerts"],"fullName":" Risk Engine & Alerts Integration Tests Risk Alerts should create RiskAlert for high-risk company","status":"passed","title":"should create RiskAlert for high-risk company","duration":1138,"failureMessages":[]}],"startTime":1764891177333,"endTime":1764891183370,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/risk-engine.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","TransactionService","createTransaction"],"fullName":" TransactionService createTransaction should create a transaction with balanced debit and credit","status":"passed","title":"should create a transaction with balanced debit and credit","duration":898,"failureMessages":[]},{"ancestorTitles":["","TransactionService","createTransaction"],"fullName":" TransactionService createTransaction should throw ValidationError when debit and credit totals don't match","status":"passed","title":"should throw ValidationError when debit and credit totals don't match","duration":851,"failureMessages":[]},{"ancestorTitles":["","TransactionService","createTransaction"],"fullName":" TransactionService createTransaction should throw ValidationError when transaction has less than 2 lines","status":"passed","title":"should throw ValidationError when transaction has less than 2 lines","duration":890,"failureMessages":[]},{"ancestorTitles":["","TransactionService","listTransactions"],"fullName":" TransactionService listTransactions should return paginated list of transactions for a tenant","status":"passed","title":"should return paginated list of transactions for a tenant","duration":885,"failureMessages":[]},{"ancestorTitles":["","TransactionService","listTransactions"],"fullName":" TransactionService listTransactions should filter by client company when provided","status":"passed","title":"should filter by client company when provided","duration":902,"failureMessages":[]}],"startTime":1764891219956,"endTime":1764891224382,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/transaction-service.test.ts"}]}