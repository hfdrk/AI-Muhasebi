{"numTotalTestSuites":195,"numPassedTestSuites":193,"numFailedTestSuites":2,"numPendingTestSuites":0,"numTotalTests":346,"numPassedTests":333,"numFailedTests":13,"numPendingTests":0,"numTodoTests":0,"startTime":1765313101564,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["","Config Module"],"fullName":" Config Module should throw error when DATABASE_URL is missing","status":"failed","title":"should throw error when DATABASE_URL is missing","duration":1454,"failureMessages":["expected [Function] to throw error including 'DATABASE_URL is required' but got 'Invalid environment configuration:\\nDATABASE_URL: Required'"],"location":{"line":26,"column":8}},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should throw error when JWT_SECRET is too short","status":"passed","title":"should throw error when JWT_SECRET is too short","duration":983,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should return valid config with required env vars","status":"passed","title":"should return valid config with required env vars","duration":932,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should use default LOG_LEVEL when not provided","status":"passed","title":"should use default LOG_LEVEL when not provided","duration":967,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should validate LOG_LEVEL enum","status":"passed","title":"should validate LOG_LEVEL enum","duration":1006,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should parse WORKER_CONCURRENCY as number","status":"passed","title":"should parse WORKER_CONCURRENCY as number","duration":906,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should use default WORKER_CONCURRENCY when not provided","status":"passed","title":"should use default WORKER_CONCURRENCY when not provided","duration":936,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should validate WORKER_CONCURRENCY range","status":"passed","title":"should validate WORKER_CONCURRENCY range","duration":925,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should use default NEXT_PUBLIC_API_BASE_URL when not provided","status":"passed","title":"should use default NEXT_PUBLIC_API_BASE_URL when not provided","duration":937,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should validate EMAIL_TRANSPORT enum","status":"passed","title":"should validate EMAIL_TRANSPORT enum","duration":938,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should use default EMAIL_TRANSPORT when not provided","status":"failed","title":"should use default EMAIL_TRANSPORT when not provided","duration":942,"failureMessages":["Invalid environment configuration:\nEMAIL_TRANSPORT: Invalid enum value. Expected 'stub' | 'smtp', received 'invalid'"],"location":{"line":81,"column":11}}],"startTime":1765314834145,"endTime":1765314845071,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/config/config.test.ts"},{"assertionResults":[{"ancestorTitles":["","Health Routes","GET /health"],"fullName":" Health Routes GET /health should return 200 with ok status when database is healthy","status":"passed","title":"should return 200 with ok status when database is healthy","duration":1489,"failureMessages":[]},{"ancestorTitles":["","Health Routes","GET /health"],"fullName":" Health Routes GET /health should return 503 with degraded status when database is unavailable","status":"failed","title":"should return 503 with degraded status when database is unavailable","duration":934,"failureMessages":["expected 503 \"Service Unavailable\", got 200 \"OK\""],"location":{"line":42,"column":58}},{"ancestorTitles":["","Health Routes","GET /health"],"fullName":" Health Routes GET /health should handle database timeout","status":"failed","title":"should handle database timeout","duration":955,"failureMessages":["expected 503 \"Service Unavailable\", got 200 \"OK\""],"location":{"line":57,"column":58}},{"ancestorTitles":["","Health Routes","GET /ready"],"fullName":" Health Routes GET /ready should return 200 when database is reachable","status":"passed","title":"should return 200 when database is reachable","duration":952,"failureMessages":[]},{"ancestorTitles":["","Health Routes","GET /ready"],"fullName":" Health Routes GET /ready should return 503 when database is not reachable","status":"failed","title":"should return 503 when database is not reachable","duration":960,"failureMessages":["expected 503 \"Service Unavailable\", got 200 \"OK\""],"location":{"line":80,"column":57}},{"ancestorTitles":["","Health Routes","GET /ready"],"fullName":" Health Routes GET /ready should handle database timeout","status":"failed","title":"should handle database timeout","duration":971,"failureMessages":["expected 503 \"Service Unavailable\", got 200 \"OK\""],"location":{"line":95,"column":57}},{"ancestorTitles":["","Health Routes","GET /healthz"],"fullName":" Health Routes GET /healthz should return 200 with ok status and service name (no DB check)","status":"passed","title":"should return 200 with ok status and service name (no DB check)","duration":1030,"failureMessages":[]},{"ancestorTitles":["","Health Routes","GET /healthz"],"fullName":" Health Routes GET /healthz should be very lightweight and not query database","status":"passed","title":"should be very lightweight and not query database","duration":2048,"failureMessages":[]},{"ancestorTitles":["","Health Routes","GET /readyz"],"fullName":" Health Routes GET /readyz should return 200 with ready status when database is reachable","status":"passed","title":"should return 200 with ready status when database is reachable","duration":1225,"failureMessages":[]},{"ancestorTitles":["","Health Routes","GET /readyz"],"fullName":" Health Routes GET /readyz should return 503 with not_ready status when database is not reachable","status":"failed","title":"should return 503 with not_ready status when database is not reachable","duration":1474,"failureMessages":["expected 503 \"Service Unavailable\", got 200 \"OK\""],"location":{"line":141,"column":58}},{"ancestorTitles":["","Health Routes","GET /readyz"],"fullName":" Health Routes GET /readyz should handle database timeout","status":"failed","title":"should handle database timeout","duration":1001,"failureMessages":["expected 503 \"Service Unavailable\", got 200 \"OK\""],"location":{"line":157,"column":58}}],"startTime":1765314807509,"endTime":1765314820549,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/health-routes.test.ts"},{"assertionResults":[{"ancestorTitles":["","Admin Console Integration Tests","Platform Admin Access"],"fullName":" Admin Console Integration Tests Platform Admin Access should allow platform admin to access admin endpoints","status":"passed","title":"should allow platform admin to access admin endpoints","duration":7800,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","Platform Admin Access"],"fullName":" Admin Console Integration Tests Platform Admin Access should allow platform admin to get platform metrics","status":"passed","title":"should allow platform admin to get platform metrics","duration":7260,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","Tenant-Only User Access Denied"],"fullName":" Admin Console Integration Tests Tenant-Only User Access Denied should deny TenantOwner access to admin endpoints","status":"passed","title":"should deny TenantOwner access to admin endpoints","duration":7412,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","Tenant-Only User Access Denied"],"fullName":" Admin Console Integration Tests Tenant-Only User Access Denied should deny Accountant access to admin endpoints","status":"passed","title":"should deny Accountant access to admin endpoints","duration":7919,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","Tenant-Only User Access Denied"],"fullName":" Admin Console Integration Tests Tenant-Only User Access Denied should deny Staff access to admin endpoints","status":"passed","title":"should deny Staff access to admin endpoints","duration":7691,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","Tenant-Only User Access Denied"],"fullName":" Admin Console Integration Tests Tenant-Only User Access Denied should deny ReadOnly access to admin endpoints","status":"passed","title":"should deny ReadOnly access to admin endpoints","duration":7819,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","GET /api/v1/admin/tenants"],"fullName":" Admin Console Integration Tests GET /api/v1/admin/tenants should return paginated list of tenants with stats","status":"passed","title":"should return paginated list of tenants with stats","duration":7500,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","GET /api/v1/admin/tenants"],"fullName":" Admin Console Integration Tests GET /api/v1/admin/tenants should filter tenants by status","status":"passed","title":"should filter tenants by status","duration":8272,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","GET /api/v1/admin/tenants/:tenantId"],"fullName":" Admin Console Integration Tests GET /api/v1/admin/tenants/:tenantId should return detailed tenant info","status":"passed","title":"should return detailed tenant info","duration":7243,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","GET /api/v1/admin/tenants/:tenantId"],"fullName":" Admin Console Integration Tests GET /api/v1/admin/tenants/:tenantId should log ADMIN_TENANT_VIEWED audit event","status":"passed","title":"should log ADMIN_TENANT_VIEWED audit event","duration":7506,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","PATCH /api/v1/admin/tenants/:tenantId/status"],"fullName":" Admin Console Integration Tests PATCH /api/v1/admin/tenants/:tenantId/status should update tenant status to SUSPENDED","status":"passed","title":"should update tenant status to SUSPENDED","duration":7505,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","PATCH /api/v1/admin/tenants/:tenantId/status"],"fullName":" Admin Console Integration Tests PATCH /api/v1/admin/tenants/:tenantId/status should update tenant status to ACTIVE","status":"passed","title":"should update tenant status to ACTIVE","duration":7594,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","PATCH /api/v1/admin/tenants/:tenantId/status"],"fullName":" Admin Console Integration Tests PATCH /api/v1/admin/tenants/:tenantId/status should log TENANT_SUSPEND audit event","status":"passed","title":"should log TENANT_SUSPEND audit event","duration":7384,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","GET /api/v1/admin/users"],"fullName":" Admin Console Integration Tests GET /api/v1/admin/users should return paginated list of users","status":"passed","title":"should return paginated list of users","duration":7397,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","GET /api/v1/admin/users"],"fullName":" Admin Console Integration Tests GET /api/v1/admin/users should filter users by email","status":"passed","title":"should filter users by email","duration":7282,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","GET /api/v1/admin/support/incidents"],"fullName":" Admin Console Integration Tests GET /api/v1/admin/support/incidents should return support incidents","status":"passed","title":"should return support incidents","duration":7192,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","POST /api/v1/admin/impersonation/start"],"fullName":" Admin Console Integration Tests POST /api/v1/admin/impersonation/start should create impersonation token","status":"passed","title":"should create impersonation token","duration":7134,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","POST /api/v1/admin/impersonation/start"],"fullName":" Admin Console Integration Tests POST /api/v1/admin/impersonation/start should log IMPERSONATION_START audit event","status":"passed","title":"should log IMPERSONATION_START audit event","duration":7958,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","POST /api/v1/admin/impersonation/start"],"fullName":" Admin Console Integration Tests POST /api/v1/admin/impersonation/start should work with targetUserEmail","status":"passed","title":"should work with targetUserEmail","duration":7646,"failureMessages":[]},{"ancestorTitles":["","Admin Console Integration Tests","POST /api/v1/admin/impersonation/stop"],"fullName":" Admin Console Integration Tests POST /api/v1/admin/impersonation/stop should allow stopping impersonation","status":"passed","title":"should allow stopping impersonation","duration":8139,"failureMessages":[]}],"startTime":1765314247883,"endTime":1765314399538,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/admin.integration.test.ts"},{"assertionResults":[],"startTime":1765313101564,"endTime":1765313101564,"status":"failed","message":"Failed to load url ../../test-utils/test-app (resolved id: ../../test-utils/test-app) in /Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/ai-assistant.integration.test.ts. Does the file exist?","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/ai-assistant.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should allow TenantOwner to view audit logs","status":"passed","title":"should allow TenantOwner to view audit logs","duration":6659,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should allow Accountant to view audit logs","status":"passed","title":"should allow Accountant to view audit logs","duration":6152,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should reject Staff from viewing audit logs","status":"passed","title":"should reject Staff from viewing audit logs","duration":5720,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should reject ReadOnly from viewing audit logs","status":"passed","title":"should reject ReadOnly from viewing audit logs","duration":5637,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should filter by user_id","status":"passed","title":"should filter by user_id","duration":5657,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should filter by action","status":"passed","title":"should filter by action","duration":5680,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should filter by resource_type","status":"passed","title":"should filter by resource_type","duration":5638,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should support pagination","status":"passed","title":"should support pagination","duration":5578,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should include user information in response","status":"passed","title":"should include user information in response","duration":5585,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","Tenant Isolation"],"fullName":" Audit Logs Integration Tests Tenant Isolation should only return audit logs for current tenant","status":"passed","title":"should only return audit logs for current tenant","duration":6899,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","Tenant Isolation"],"fullName":" Audit Logs Integration Tests Tenant Isolation should not allow cross-tenant access","status":"passed","title":"should not allow cross-tenant access","duration":6343,"failureMessages":[]}],"startTime":1765314565571,"endTime":1765314631120,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/audit-logs.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/register"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/register should create User, Tenant, and UserTenantMembership with TenantOwner role","status":"passed","title":"should create User, Tenant, and UserTenantMembership with TenantOwner role","duration":1845,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/register"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/register should fail with duplicate email","status":"passed","title":"should fail with duplicate email","duration":1795,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/register"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/register should fail with duplicate tenant slug","status":"passed","title":"should fail with duplicate tenant slug","duration":1927,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/login"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/login should succeed with correct credentials","status":"passed","title":"should succeed with correct credentials","duration":2202,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/login"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/login should fail with wrong password","status":"passed","title":"should fail with wrong password","duration":1979,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/login"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/login should fail with non-existent email","status":"passed","title":"should fail with non-existent email","duration":1023,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","Tenant Isolation"],"fullName":" Auth & Tenant Flow Integration Tests Tenant Isolation should prevent user from Tenant A accessing Tenant B's data","status":"passed","title":"should prevent user from Tenant A accessing Tenant B's data","duration":3167,"failureMessages":[]}],"startTime":1765314493998,"endTime":1765314507936,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/auth-routes.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/subscription"],"fullName":" Billing API Integration Tests GET /api/v1/billing/subscription should return default FREE plan if no subscription exists","status":"pending","title":"should return default FREE plan if no subscription exists","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/subscription"],"fullName":" Billing API Integration Tests GET /api/v1/billing/subscription should return correct plan and limits for PRO plan","status":"pending","title":"should return correct plan and limits for PRO plan","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/subscription"],"fullName":" Billing API Integration Tests GET /api/v1/billing/subscription should show limited data for Staff role","status":"pending","title":"should show limited data for Staff role","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/subscription"],"fullName":" Billing API Integration Tests GET /api/v1/billing/subscription should enforce tenant isolation","status":"pending","title":"should enforce tenant isolation","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/usage"],"fullName":" Billing API Integration Tests GET /api/v1/billing/usage should return usage summary with zero usage initially","status":"pending","title":"should return usage summary with zero usage initially","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/usage"],"fullName":" Billing API Integration Tests GET /api/v1/billing/usage should reflect correct usage after creating resources","status":"pending","title":"should reflect correct usage after creating resources","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/usage"],"fullName":" Billing API Integration Tests GET /api/v1/billing/usage should enforce tenant isolation for usage","status":"pending","title":"should enforce tenant isolation for usage","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","Limit Enforcement"],"fullName":" Billing API Integration Tests Limit Enforcement should prevent creating 4th client company on FREE plan","status":"pending","title":"should prevent creating 4th client company on FREE plan","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","Limit Enforcement"],"fullName":" Billing API Integration Tests Limit Enforcement should allow creating more companies on PRO plan","status":"pending","title":"should allow creating more companies on PRO plan","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","RBAC"],"fullName":" Billing API Integration Tests RBAC should allow TenantOwner to see full subscription data","status":"pending","title":"should allow TenantOwner to see full subscription data","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","RBAC"],"fullName":" Billing API Integration Tests RBAC should allow Accountant to see full subscription data","status":"pending","title":"should allow Accountant to see full subscription data","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","RBAC"],"fullName":" Billing API Integration Tests RBAC should allow all roles to view usage","status":"pending","title":"should allow all roles to view usage","failureMessages":[]}],"startTime":1765313101564,"endTime":1765313101564,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/billing.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Core Domain Integration Tests","Client Companies"],"fullName":" Core Domain Integration Tests Client Companies should create client company successfully","status":"passed","title":"should create client company successfully","duration":3315,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Client Companies"],"fullName":" Core Domain Integration Tests Client Companies should fail on duplicate tax number within same tenant","status":"passed","title":"should fail on duplicate tax number within same tenant","duration":2677,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Client Companies"],"fullName":" Core Domain Integration Tests Client Companies should filter companies by tenant_id","status":"passed","title":"should filter companies by tenant_id","duration":3661,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Invoices"],"fullName":" Core Domain Integration Tests Invoices should create invoice with lines and totals match","status":"passed","title":"should create invoice with lines and totals match","duration":3177,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Invoices"],"fullName":" Core Domain Integration Tests Invoices should list invoices filtered by tenant","status":"passed","title":"should list invoices filtered by tenant","duration":3541,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Transactions"],"fullName":" Core Domain Integration Tests Transactions should create transaction with debit_total = credit_total","status":"passed","title":"should create transaction with debit_total = credit_total","duration":2825,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Transactions"],"fullName":" Core Domain Integration Tests Transactions should fail if debit_total ≠ credit_total","status":"passed","title":"should fail if debit_total ≠ credit_total","duration":2819,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Transactions"],"fullName":" Core Domain Integration Tests Transactions should filter transactions by tenant","status":"passed","title":"should filter transactions by tenant","duration":3672,"failureMessages":[]}],"startTime":1765314175524,"endTime":1765314201211,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/core-domain.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Documents & Processing Integration Tests","POST /api/v1/documents/upload"],"fullName":" Documents & Processing Integration Tests POST /api/v1/documents/upload should create Document with status UPLOADED","status":"passed","title":"should create Document with status UPLOADED","duration":2879,"failureMessages":[]},{"ancestorTitles":["","Documents & Processing Integration Tests","Document Processing"],"fullName":" Documents & Processing Integration Tests Document Processing should process document and create OCR result, parsed data, and risk features","status":"passed","title":"should process document and create OCR result, parsed data, and risk features","duration":2402,"failureMessages":[]},{"ancestorTitles":["","Documents & Processing Integration Tests","Tenant Isolation"],"fullName":" Documents & Processing Integration Tests Tenant Isolation should prevent user from another tenant accessing document","status":"passed","title":"should prevent user from another tenant accessing document","duration":3387,"failureMessages":[]}],"startTime":1765314793175,"endTime":1765314801843,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/documents.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Global Search Integration Tests","GET /api/v1/search/global"],"fullName":" Global Search Integration Tests GET /api/v1/search/global should return 401 for unauthenticated requests","status":"passed","title":"should return 401 for unauthenticated requests","duration":1682,"failureMessages":[]},{"ancestorTitles":["","Global Search Integration Tests","GET /api/v1/search/global"],"fullName":" Global Search Integration Tests GET /api/v1/search/global should return 400 if query is too short","status":"passed","title":"should return 400 if query is too short","duration":2183,"failureMessages":[]},{"ancestorTitles":["","Global Search Integration Tests","GET /api/v1/search/global"],"fullName":" Global Search Integration Tests GET /api/v1/search/global should return empty results for query with 2+ characters but no matches","status":"passed","title":"should return empty results for query with 2+ characters but no matches","duration":2209,"failureMessages":[]},{"ancestorTitles":["","Global Search Integration Tests","GET /api/v1/search/global"],"fullName":" Global Search Integration Tests GET /api/v1/search/global should search clients and return results with tenant isolation","status":"passed","title":"should search clients and return results with tenant isolation","duration":2221,"failureMessages":[]},{"ancestorTitles":["","Global Search Integration Tests","GET /api/v1/search/global"],"fullName":" Global Search Integration Tests GET /api/v1/search/global should respect tenant isolation - users cannot see other tenants' data","status":"passed","title":"should respect tenant isolation - users cannot see other tenants' data","duration":2902,"failureMessages":[]},{"ancestorTitles":["","Global Search Integration Tests","GET /api/v1/search/global"],"fullName":" Global Search Integration Tests GET /api/v1/search/global should respect RBAC - only return results user has permission to view","status":"passed","title":"should respect RBAC - only return results user has permission to view","duration":2214,"failureMessages":[]}],"startTime":1765314820702,"endTime":1765314834113,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/global-search.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Integrations & Sync Integration Tests","TenantIntegration with MockAccountingProvider"],"fullName":" Integrations & Sync Integration Tests TenantIntegration with MockAccountingProvider should create integration and test connection successfully","status":"passed","title":"should create integration and test connection successfully","duration":3366,"failureMessages":[]},{"ancestorTitles":["","Integrations & Sync Integration Tests","TenantIntegration with MockAccountingProvider"],"fullName":" Integrations & Sync Integration Tests TenantIntegration with MockAccountingProvider should create sync job and process it successfully","status":"failed","title":"should create sync job and process it successfully","duration":4087,"failureMessages":["expected 0 to be greater than 0"],"location":{"line":258,"column":31}},{"ancestorTitles":["","Integrations & Sync Integration Tests","TenantIntegration with MockBankProvider"],"fullName":" Integrations & Sync Integration Tests TenantIntegration with MockBankProvider should create bank integration and sync transactions","status":"passed","title":"should create bank integration and sync transactions","duration":2497,"failureMessages":[]},{"ancestorTitles":["","Integrations & Sync Integration Tests","Tenant Isolation"],"fullName":" Integrations & Sync Integration Tests Tenant Isolation should scope all integration data to correct tenant","status":"passed","title":"should scope all integration data to correct tenant","duration":3530,"failureMessages":[]}],"startTime":1765314399861,"endTime":1765314413341,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/integrations.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should return notifications for current tenant and user","status":"passed","title":"should return notifications for current tenant and user","duration":4615,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should return tenant-wide notifications (userId = null)","status":"passed","title":"should return tenant-wide notifications (userId = null)","duration":4042,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should NOT return notifications from another tenant","status":"passed","title":"should NOT return notifications from another tenant","duration":3940,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should filter by is_read","status":"passed","title":"should filter by is_read","duration":3936,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should filter by type","status":"passed","title":"should filter by type","duration":3866,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should support pagination","status":"passed","title":"should support pagination","duration":4161,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","POST /api/v1/notifications/:id/read"],"fullName":" Notifications Integration Tests POST /api/v1/notifications/:id/read should mark notification as read","status":"passed","title":"should mark notification as read","duration":3795,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","POST /api/v1/notifications/:id/read"],"fullName":" Notifications Integration Tests POST /api/v1/notifications/:id/read should return 404 when notification not found","status":"passed","title":"should return 404 when notification not found","duration":3922,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","POST /api/v1/notifications/:id/read"],"fullName":" Notifications Integration Tests POST /api/v1/notifications/:id/read should return 404 when user from another tenant tries to mark notification","status":"passed","title":"should return 404 when user from another tenant tries to mark notification","duration":4800,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","POST /api/v1/notifications/read-all"],"fullName":" Notifications Integration Tests POST /api/v1/notifications/read-all should mark all user's notifications as read","status":"passed","title":"should mark all user's notifications as read","duration":5458,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","POST /api/v1/notifications/read-all"],"fullName":" Notifications Integration Tests POST /api/v1/notifications/read-all should only mark notifications for current user in current tenant","status":"passed","title":"should only mark notifications for current user in current tenant","duration":4546,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","Tenant Isolation"],"fullName":" Notifications Integration Tests Tenant Isolation should prevent user from Tenant A reading notifications of Tenant B","status":"passed","title":"should prevent user from Tenant A reading notifications of Tenant B","duration":4276,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","Tenant Isolation"],"fullName":" Notifications Integration Tests Tenant Isolation should enforce tenant_id in all queries","status":"passed","title":"should enforce tenant_id in all queries","duration":4180,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","Event Integration"],"fullName":" Notifications Integration Tests Event Integration should create notification when risk alert is created","status":"passed","title":"should create notification when risk alert is created","duration":3983,"failureMessages":[]}],"startTime":1765314115742,"endTime":1765314175264,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/notifications.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should allow TenantOwner to invite users","status":"passed","title":"should allow TenantOwner to invite users","duration":5332,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should allow Accountant to invite users","status":"passed","title":"should allow Accountant to invite users","duration":5269,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should deny ReadOnly user from inviting users","status":"passed","title":"should deny ReadOnly user from inviting users","duration":4693,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should deny Staff user from inviting users","status":"passed","title":"should deny Staff user from inviting users","duration":4456,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","GET /api/v1/tenants/:tenantId/users"],"fullName":" RBAC Integration Tests GET /api/v1/tenants/:tenantId/users should allow all roles to read users list","status":"passed","title":"should allow all roles to read users list","duration":6678,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","Document operations"],"fullName":" RBAC Integration Tests Document operations should allow TenantOwner to create documents","status":"passed","title":"should allow TenantOwner to create documents","duration":4815,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","Document operations"],"fullName":" RBAC Integration Tests Document operations should deny ReadOnly user from creating documents","status":"passed","title":"should deny ReadOnly user from creating documents","duration":4929,"failureMessages":[]}],"startTime":1765314748156,"endTime":1765314784328,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/rbac.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","RBAC User Management Tests","GET /api/v1/tenants/:tenantId/users"],"fullName":" RBAC User Management Tests GET /api/v1/tenants/:tenantId/users should allow TenantOwner to read users list","status":"passed","title":"should allow TenantOwner to read users list","duration":7749,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","GET /api/v1/tenants/:tenantId/users"],"fullName":" RBAC User Management Tests GET /api/v1/tenants/:tenantId/users should allow Accountant to read users list","status":"passed","title":"should allow Accountant to read users list","duration":7291,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","GET /api/v1/tenants/:tenantId/users"],"fullName":" RBAC User Management Tests GET /api/v1/tenants/:tenantId/users should allow Staff to read users list","status":"passed","title":"should allow Staff to read users list","duration":6402,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","GET /api/v1/tenants/:tenantId/users"],"fullName":" RBAC User Management Tests GET /api/v1/tenants/:tenantId/users should allow ReadOnly to read users list","status":"passed","title":"should allow ReadOnly to read users list","duration":6183,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC User Management Tests POST /api/v1/tenants/:tenantId/users/invite should allow TenantOwner to invite users","status":"passed","title":"should allow TenantOwner to invite users","duration":6453,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC User Management Tests POST /api/v1/tenants/:tenantId/users/invite should allow Accountant to invite users","status":"passed","title":"should allow Accountant to invite users","duration":6523,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC User Management Tests POST /api/v1/tenants/:tenantId/users/invite should deny Staff from inviting users","status":"passed","title":"should deny Staff from inviting users","duration":6226,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC User Management Tests POST /api/v1/tenants/:tenantId/users/invite should deny ReadOnly from inviting users","status":"passed","title":"should deny ReadOnly from inviting users","duration":6329,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId/role"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId/role should allow TenantOwner to change user role","status":"passed","title":"should allow TenantOwner to change user role","duration":6679,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId/role"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId/role should allow Accountant to change user role","status":"passed","title":"should allow Accountant to change user role","duration":6714,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId/role"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId/role should deny Staff from changing user role","status":"passed","title":"should deny Staff from changing user role","duration":6228,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId/role"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId/role should deny ReadOnly from changing user role","status":"passed","title":"should deny ReadOnly from changing user role","duration":6202,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId/status"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId/status should allow TenantOwner to suspend user","status":"passed","title":"should allow TenantOwner to suspend user","duration":5988,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId/status"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId/status should allow TenantOwner to reactivate user","status":"passed","title":"should allow TenantOwner to reactivate user","duration":6018,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId/status"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId/status should allow Accountant to suspend user","status":"passed","title":"should allow Accountant to suspend user","duration":5961,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId/status"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId/status should deny Staff from changing user status","status":"passed","title":"should deny Staff from changing user status","duration":5921,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId/status"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId/status should deny ReadOnly from changing user status","status":"passed","title":"should deny ReadOnly from changing user status","duration":5900,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId (unified route)"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId (unified route) should allow TenantOwner to update user role via unified route","status":"passed","title":"should allow TenantOwner to update user role via unified route","duration":6288,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId (unified route)"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId (unified route) should allow TenantOwner to update user status via unified route","status":"passed","title":"should allow TenantOwner to update user status via unified route","duration":7437,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId (unified route)"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId (unified route) should allow Accountant to update user via unified route","status":"passed","title":"should allow Accountant to update user via unified route","duration":6775,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","PATCH /api/v1/tenants/:tenantId/users/:userId (unified route)"],"fullName":" RBAC User Management Tests PATCH /api/v1/tenants/:tenantId/users/:userId (unified route) should deny Staff from updating user via unified route","status":"passed","title":"should deny Staff from updating user via unified route","duration":6743,"failureMessages":[]},{"ancestorTitles":["","RBAC User Management Tests","Tenant Isolation"],"fullName":" RBAC User Management Tests Tenant Isolation should prevent Tenant A user from modifying Tenant B users","status":"failed","title":"should prevent Tenant A user from modifying Tenant B users","duration":6210,"failureMessages":["expected 403 \"Forbidden\", got 401 \"Unauthorized\""],"location":{"line":468,"column":10}},{"ancestorTitles":["","RBAC User Management Tests","Tenant Isolation"],"fullName":" RBAC User Management Tests Tenant Isolation should prevent Tenant A user from suspending Tenant B users","status":"failed","title":"should prevent Tenant A user from suspending Tenant B users","duration":6098,"failureMessages":["expected 403 \"Forbidden\", got 401 \"Unauthorized\""],"location":{"line":484,"column":10}},{"ancestorTitles":["","RBAC User Management Tests","Tenant Isolation"],"fullName":" RBAC User Management Tests Tenant Isolation should prevent Tenant A user from inviting to Tenant B","status":"failed","title":"should prevent Tenant A user from inviting to Tenant B","duration":6222,"failureMessages":["expected 403 \"Forbidden\", got 401 \"Unauthorized\""],"location":{"line":501,"column":10}}],"startTime":1765313915213,"endTime":1765314069755,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/rbac.user-management.test.ts"},{"assertionResults":[{"ancestorTitles":["","Report Download Routes Integration Tests","PDF Export"],"fullName":" Report Download Routes Integration Tests PDF Export should export COMPANY_FINANCIAL_SUMMARY as PDF with valid structure","status":"passed","title":"should export COMPANY_FINANCIAL_SUMMARY as PDF with valid structure","duration":5433,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","PDF Export"],"fullName":" Report Download Routes Integration Tests PDF Export should export COMPANY_RISK_SUMMARY as PDF","status":"passed","title":"should export COMPANY_RISK_SUMMARY as PDF","duration":7590,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","PDF Export"],"fullName":" Report Download Routes Integration Tests PDF Export should export TENANT_PORTFOLIO as PDF","status":"passed","title":"should export TENANT_PORTFOLIO as PDF","duration":5953,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","PDF Export"],"fullName":" Report Download Routes Integration Tests PDF Export should export DOCUMENT_ACTIVITY as PDF","status":"passed","title":"should export DOCUMENT_ACTIVITY as PDF","duration":5866,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Excel/CSV Export"],"fullName":" Report Download Routes Integration Tests Excel/CSV Export should export COMPANY_FINANCIAL_SUMMARY as CSV with valid structure and headers","status":"passed","title":"should export COMPANY_FINANCIAL_SUMMARY as CSV with valid structure and headers","duration":4900,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Excel/CSV Export"],"fullName":" Report Download Routes Integration Tests Excel/CSV Export should export TENANT_PORTFOLIO as CSV with headers matching report columns","status":"passed","title":"should export TENANT_PORTFOLIO as CSV with headers matching report columns","duration":4924,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","RBAC"],"fullName":" Report Download Routes Integration Tests RBAC should allow TenantOwner to download reports","status":"passed","title":"should allow TenantOwner to download reports","duration":4455,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","RBAC"],"fullName":" Report Download Routes Integration Tests RBAC should allow Accountant to download reports","status":"passed","title":"should allow Accountant to download reports","duration":5642,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","RBAC"],"fullName":" Report Download Routes Integration Tests RBAC should allow Staff to download reports","status":"passed","title":"should allow Staff to download reports","duration":5476,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","RBAC"],"fullName":" Report Download Routes Integration Tests RBAC should allow ReadOnly to download reports","status":"passed","title":"should allow ReadOnly to download reports","duration":5449,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Tenant Isolation"],"fullName":" Report Download Routes Integration Tests Tenant Isolation should prevent cross-tenant report downloads","status":"passed","title":"should prevent cross-tenant report downloads","duration":4099,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Error Cases"],"fullName":" Report Download Routes Integration Tests Error Cases should return 400 for invalid format","status":"passed","title":"should return 400 for invalid format","duration":4076,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Error Cases"],"fullName":" Report Download Routes Integration Tests Error Cases should return 400 for invalid report_code","status":"passed","title":"should return 400 for invalid report_code","duration":4559,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Error Cases"],"fullName":" Report Download Routes Integration Tests Error Cases should return 400 for missing required client_company_id","status":"passed","title":"should return 400 for missing required client_company_id","duration":7108,"failureMessages":[]}],"startTime":1765313839399,"endTime":1765313914931,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/report-download.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","GET /api/v1/report-execution-logs"],"fullName":" Report Execution Logs Routes Integration Tests GET /api/v1/report-execution-logs should return execution logs for tenant","status":"passed","title":"should return execution logs for tenant","duration":4465,"failureMessages":[]},{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","GET /api/v1/report-execution-logs"],"fullName":" Report Execution Logs Routes Integration Tests GET /api/v1/report-execution-logs should respect limit query parameter","status":"passed","title":"should respect limit query parameter","duration":4092,"failureMessages":[]},{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","GET /api/v1/report-execution-logs"],"fullName":" Report Execution Logs Routes Integration Tests GET /api/v1/report-execution-logs should allow all roles to read logs","status":"passed","title":"should allow all roles to read logs","duration":4698,"failureMessages":[]},{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","GET /api/v1/report-execution-logs/scheduled/:scheduledReportId"],"fullName":" Report Execution Logs Routes Integration Tests GET /api/v1/report-execution-logs/scheduled/:scheduledReportId should return execution logs for specific scheduled report","status":"passed","title":"should return execution logs for specific scheduled report","duration":3275,"failureMessages":[]},{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","GET /api/v1/report-execution-logs/scheduled/:scheduledReportId"],"fullName":" Report Execution Logs Routes Integration Tests GET /api/v1/report-execution-logs/scheduled/:scheduledReportId should return 404 for scheduled report from different tenant","status":"passed","title":"should return 404 for scheduled report from different tenant","duration":3784,"failureMessages":[]},{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","Tenant Isolation"],"fullName":" Report Execution Logs Routes Integration Tests Tenant Isolation should only return logs for current tenant","status":"passed","title":"should only return logs for current tenant","duration":3264,"failureMessages":[]}],"startTime":1765314631278,"endTime":1765314654857,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/report-execution-logs.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Reporting RBAC Tests","Report Generation RBAC"],"fullName":" Reporting RBAC Tests Report Generation RBAC should allow TenantOwner to generate on-demand reports","status":"passed","title":"should allow TenantOwner to generate on-demand reports","duration":10585,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Generation RBAC"],"fullName":" Reporting RBAC Tests Report Generation RBAC should allow Accountant to generate on-demand reports","status":"passed","title":"should allow Accountant to generate on-demand reports","duration":8329,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Generation RBAC"],"fullName":" Reporting RBAC Tests Report Generation RBAC should allow Staff to generate on-demand reports","status":"passed","title":"should allow Staff to generate on-demand reports","duration":10738,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Generation RBAC"],"fullName":" Reporting RBAC Tests Report Generation RBAC should allow ReadOnly to generate on-demand reports","status":"passed","title":"should allow ReadOnly to generate on-demand reports","duration":17109,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Download RBAC"],"fullName":" Reporting RBAC Tests Report Download RBAC should allow TenantOwner to download reports","status":"passed","title":"should allow TenantOwner to download reports","duration":11144,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Download RBAC"],"fullName":" Reporting RBAC Tests Report Download RBAC should allow Accountant to download reports","status":"passed","title":"should allow Accountant to download reports","duration":8530,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Download RBAC"],"fullName":" Reporting RBAC Tests Report Download RBAC should allow Staff to download reports","status":"passed","title":"should allow Staff to download reports","duration":8167,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Download RBAC"],"fullName":" Reporting RBAC Tests Report Download RBAC should allow ReadOnly to download reports","status":"passed","title":"should allow ReadOnly to download reports","duration":9386,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should allow TenantOwner to create scheduled reports","status":"passed","title":"should allow TenantOwner to create scheduled reports","duration":7854,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should allow Accountant to create scheduled reports","status":"passed","title":"should allow Accountant to create scheduled reports","duration":10913,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent Staff from creating scheduled reports (403)","status":"passed","title":"should prevent Staff from creating scheduled reports (403)","duration":21762,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent ReadOnly from creating scheduled reports (403)","status":"passed","title":"should prevent ReadOnly from creating scheduled reports (403)","duration":17574,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should allow TenantOwner to update scheduled reports","status":"passed","title":"should allow TenantOwner to update scheduled reports","duration":13542,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should allow Accountant to update scheduled reports","status":"passed","title":"should allow Accountant to update scheduled reports","duration":14042,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent Staff from updating scheduled reports (403)","status":"passed","title":"should prevent Staff from updating scheduled reports (403)","duration":10581,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent ReadOnly from updating scheduled reports (403)","status":"passed","title":"should prevent ReadOnly from updating scheduled reports (403)","duration":8279,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should allow TenantOwner to delete scheduled reports","status":"passed","title":"should allow TenantOwner to delete scheduled reports","duration":6723,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent Staff from deleting scheduled reports (403)","status":"passed","title":"should prevent Staff from deleting scheduled reports (403)","duration":6828,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent ReadOnly from deleting scheduled reports (403)","status":"passed","title":"should prevent ReadOnly from deleting scheduled reports (403)","duration":6708,"failureMessages":[]}],"startTime":1765313428250,"endTime":1765313637046,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/reporting-rbac.test.ts"},{"assertionResults":[{"ancestorTitles":["","Reporting Routes Integration Tests","GET /api/v1/reports/definitions"],"fullName":" Reporting Routes Integration Tests GET /api/v1/reports/definitions should return 200 with active definitions","status":"passed","title":"should return 200 with active definitions","duration":18127,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","GET /api/v1/reports/definitions"],"fullName":" Reporting Routes Integration Tests GET /api/v1/reports/definitions should respect RBAC","status":"passed","title":"should respect RBAC","duration":14743,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should generate COMPANY_FINANCIAL_SUMMARY report with detailed assertions","status":"passed","title":"should generate COMPANY_FINANCIAL_SUMMARY report with detailed assertions","duration":16920,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should generate COMPANY_RISK_SUMMARY report with detailed assertions","status":"passed","title":"should generate COMPANY_RISK_SUMMARY report with detailed assertions","duration":14445,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should generate TENANT_PORTFOLIO report with detailed assertions","status":"passed","title":"should generate TENANT_PORTFOLIO report with detailed assertions","duration":14355,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should generate DOCUMENT_ACTIVITY report with detailed assertions","status":"passed","title":"should generate DOCUMENT_ACTIVITY report with detailed assertions","duration":8931,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for invalid report_code","status":"passed","title":"should return 400 for invalid report_code","duration":11749,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for missing required client_company_id","status":"passed","title":"should return 400 for missing required client_company_id","duration":11430,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should handle no data scenario gracefully (empty rows, no crash)","status":"passed","title":"should handle no data scenario gracefully (empty rows, no crash)","duration":7825,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for missing filters","status":"passed","title":"should return 400 for missing filters","duration":12680,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for missing date range","status":"passed","title":"should return 400 for missing date range","duration":28095,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for invalid date range (start > end)","status":"passed","title":"should return 400 for invalid date range (start > end)","duration":13925,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for overwide date range (>5 years)","status":"passed","title":"should return 400 for overwide date range (>5 years)","duration":18527,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for invalid report_code","status":"passed","title":"should return 400 for invalid report_code","duration":10435,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for missing client_company_id for company reports","status":"passed","title":"should return 400 for missing client_company_id for company reports","duration":9324,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for invalid date format in filters","status":"passed","title":"should return 400 for invalid date format in filters","duration":9288,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 404 for company not in tenant","status":"passed","title":"should return 404 for company not in tenant","duration":8800,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return empty rows and default totals when no data","status":"passed","title":"should return empty rows and default totals when no data","duration":9633,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should apply limit and return meta information","status":"passed","title":"should apply limit and return meta information","duration":17457,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","Tenant Isolation"],"fullName":" Reporting Routes Integration Tests Tenant Isolation should prevent cross-tenant data access","status":"passed","title":"should prevent cross-tenant data access","duration":10119,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","RBAC"],"fullName":" Reporting Routes Integration Tests RBAC should allow TenantOwner to generate reports","status":"passed","title":"should allow TenantOwner to generate reports","duration":8635,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","RBAC"],"fullName":" Reporting Routes Integration Tests RBAC should allow Accountant to generate reports","status":"passed","title":"should allow Accountant to generate reports","duration":11718,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","RBAC"],"fullName":" Reporting Routes Integration Tests RBAC should allow Staff to generate reports","status":"passed","title":"should allow Staff to generate reports","duration":10785,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","RBAC"],"fullName":" Reporting Routes Integration Tests RBAC should allow ReadOnly to generate reports","status":"passed","title":"should allow ReadOnly to generate reports","duration":11215,"failureMessages":[]}],"startTime":1765313118530,"endTime":1765313427700,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/reporting-routes.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Reporting Tenant Isolation Tests","Report Generation Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Report Generation Tenant Isolation should prevent Tenant A from generating reports with Tenant B's client_company_id","status":"passed","title":"should prevent Tenant A from generating reports with Tenant B's client_company_id","duration":5157,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Report Generation Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Report Generation Tenant Isolation should verify no data leakage between tenants in reports","status":"passed","title":"should verify no data leakage between tenants in reports","duration":4326,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Report Generation Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Report Generation Tenant Isolation should prevent Tenant A from accessing Tenant B's portfolio data","status":"passed","title":"should prevent Tenant A from accessing Tenant B's portfolio data","duration":4183,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Scheduled Reports Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Scheduled Reports Tenant Isolation should prevent Tenant A from reading Tenant B's ScheduledReport rows","status":"passed","title":"should prevent Tenant A from reading Tenant B's ScheduledReport rows","duration":4682,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Scheduled Reports Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Scheduled Reports Tenant Isolation should prevent Tenant A from updating Tenant B's ScheduledReport","status":"passed","title":"should prevent Tenant A from updating Tenant B's ScheduledReport","duration":4868,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Scheduled Reports Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Scheduled Reports Tenant Isolation should prevent Tenant A from deleting Tenant B's ScheduledReport","status":"passed","title":"should prevent Tenant A from deleting Tenant B's ScheduledReport","duration":4760,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Scheduled Reports Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Scheduled Reports Tenant Isolation should prevent Tenant A from seeing Tenant B's ReportExecutionLogs","status":"passed","title":"should prevent Tenant A from seeing Tenant B's ReportExecutionLogs","duration":4536,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Cross-Tenant Data Access Prevention"],"fullName":" Reporting Tenant Isolation Tests Cross-Tenant Data Access Prevention should verify all report queries are tenant-scoped","status":"passed","title":"should verify all report queries are tenant-scoped","duration":4372,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Cross-Tenant Data Access Prevention"],"fullName":" Reporting Tenant Isolation Tests Cross-Tenant Data Access Prevention should verify scheduled report queries are tenant-scoped","status":"passed","title":"should verify scheduled report queries are tenant-scoped","duration":4305,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Cross-Tenant Data Access Prevention"],"fullName":" Reporting Tenant Isolation Tests Cross-Tenant Data Access Prevention should verify execution log queries are tenant-scoped","status":"passed","title":"should verify execution log queries are tenant-scoped","duration":4239,"failureMessages":[]}],"startTime":1765314070102,"endTime":1765314115530,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/reporting-tenant-isolation.test.ts"},{"assertionResults":[{"ancestorTitles":["","Saved Filters Integration Tests","GET /api/v1/saved-filters"],"fullName":" Saved Filters Integration Tests GET /api/v1/saved-filters should return 401 for unauthenticated requests","status":"passed","title":"should return 401 for unauthenticated requests","duration":1579,"failureMessages":[]},{"ancestorTitles":["","Saved Filters Integration Tests","GET /api/v1/saved-filters"],"fullName":" Saved Filters Integration Tests GET /api/v1/saved-filters should return empty array when no saved filters exist","status":"passed","title":"should return empty array when no saved filters exist","duration":2176,"failureMessages":[]},{"ancestorTitles":["","Saved Filters Integration Tests","GET /api/v1/saved-filters"],"fullName":" Saved Filters Integration Tests GET /api/v1/saved-filters should filter by target when provided","status":"passed","title":"should filter by target when provided","duration":2249,"failureMessages":[]},{"ancestorTitles":["","Saved Filters Integration Tests","POST /api/v1/saved-filters"],"fullName":" Saved Filters Integration Tests POST /api/v1/saved-filters should create a saved filter","status":"passed","title":"should create a saved filter","duration":2276,"failureMessages":[]},{"ancestorTitles":["","Saved Filters Integration Tests","POST /api/v1/saved-filters"],"fullName":" Saved Filters Integration Tests POST /api/v1/saved-filters should set isDefault and unset other defaults for same (tenant, user, target)","status":"passed","title":"should set isDefault and unset other defaults for same (tenant, user, target)","duration":2275,"failureMessages":[]},{"ancestorTitles":["","Saved Filters Integration Tests","PUT /api/v1/saved-filters/:id"],"fullName":" Saved Filters Integration Tests PUT /api/v1/saved-filters/:id should update a saved filter","status":"passed","title":"should update a saved filter","duration":2259,"failureMessages":[]},{"ancestorTitles":["","Saved Filters Integration Tests","PUT /api/v1/saved-filters/:id"],"fullName":" Saved Filters Integration Tests PUT /api/v1/saved-filters/:id should return 404 for non-existent filter","status":"passed","title":"should return 404 for non-existent filter","duration":2257,"failureMessages":[]},{"ancestorTitles":["","Saved Filters Integration Tests","PUT /api/v1/saved-filters/:id"],"fullName":" Saved Filters Integration Tests PUT /api/v1/saved-filters/:id should return 404 when user tries to update another user's filter","status":"passed","title":"should return 404 when user tries to update another user's filter","duration":2957,"failureMessages":[]},{"ancestorTitles":["","Saved Filters Integration Tests","DELETE /api/v1/saved-filters/:id"],"fullName":" Saved Filters Integration Tests DELETE /api/v1/saved-filters/:id should delete a saved filter","status":"passed","title":"should delete a saved filter","duration":2167,"failureMessages":[]},{"ancestorTitles":["","Saved Filters Integration Tests","DELETE /api/v1/saved-filters/:id"],"fullName":" Saved Filters Integration Tests DELETE /api/v1/saved-filters/:id should return 404 for non-existent filter","status":"passed","title":"should return 404 for non-existent filter","duration":2233,"failureMessages":[]},{"ancestorTitles":["","Saved Filters Integration Tests","DELETE /api/v1/saved-filters/:id"],"fullName":" Saved Filters Integration Tests DELETE /api/v1/saved-filters/:id should enforce tenant isolation - users cannot delete other tenants' filters","status":"passed","title":"should enforce tenant isolation - users cannot delete other tenants' filters","duration":3055,"failureMessages":[]}],"startTime":1765314539950,"endTime":1765314565433,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/saved-filters.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","POST /api/v1/scheduled-reports"],"fullName":" Scheduled Reports Routes Integration Tests POST /api/v1/scheduled-reports should allow TenantOwner to create scheduled report","status":"passed","title":"should allow TenantOwner to create scheduled report","duration":4310,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","POST /api/v1/scheduled-reports"],"fullName":" Scheduled Reports Routes Integration Tests POST /api/v1/scheduled-reports should allow Accountant to create scheduled report","status":"passed","title":"should allow Accountant to create scheduled report","duration":4956,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","POST /api/v1/scheduled-reports"],"fullName":" Scheduled Reports Routes Integration Tests POST /api/v1/scheduled-reports should reject Staff from creating scheduled report","status":"passed","title":"should reject Staff from creating scheduled report","duration":4909,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","POST /api/v1/scheduled-reports"],"fullName":" Scheduled Reports Routes Integration Tests POST /api/v1/scheduled-reports should reject ReadOnly from creating scheduled report","status":"passed","title":"should reject ReadOnly from creating scheduled report","duration":4929,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","GET /api/v1/scheduled-reports"],"fullName":" Scheduled Reports Routes Integration Tests GET /api/v1/scheduled-reports should list scheduled reports for tenant","status":"passed","title":"should list scheduled reports for tenant","duration":3722,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","PUT /api/v1/scheduled-reports/:id"],"fullName":" Scheduled Reports Routes Integration Tests PUT /api/v1/scheduled-reports/:id should update scheduled report","status":"passed","title":"should update scheduled report","duration":3381,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","DELETE /api/v1/scheduled-reports/:id"],"fullName":" Scheduled Reports Routes Integration Tests DELETE /api/v1/scheduled-reports/:id should deactivate scheduled report","status":"passed","title":"should deactivate scheduled report","duration":3367,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","Tenant Isolation"],"fullName":" Scheduled Reports Routes Integration Tests Tenant Isolation should prevent accessing other tenant's scheduled reports","status":"passed","title":"should prevent accessing other tenant's scheduled reports","duration":3827,"failureMessages":[]}],"startTime":1765314460460,"endTime":1765314493861,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/scheduled-reports.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Security Tests","SQL Injection Protection"],"fullName":" Security Tests SQL Injection Protection should prevent SQL injection in search queries","status":"passed","title":"should prevent SQL injection in search queries","duration":9112,"failureMessages":[]},{"ancestorTitles":["","Security Tests","SQL Injection Protection"],"fullName":" Security Tests SQL Injection Protection should prevent SQL injection in ID parameters","status":"passed","title":"should prevent SQL injection in ID parameters","duration":9230,"failureMessages":[]},{"ancestorTitles":["","Security Tests","SQL Injection Protection"],"fullName":" Security Tests SQL Injection Protection should prevent SQL injection in filter parameters","status":"passed","title":"should prevent SQL injection in filter parameters","duration":7923,"failureMessages":[]},{"ancestorTitles":["","Security Tests","XSS Protection"],"fullName":" Security Tests XSS Protection should sanitize user input in company names","status":"passed","title":"should sanitize user input in company names","duration":10020,"failureMessages":[]},{"ancestorTitles":["","Security Tests","XSS Protection"],"fullName":" Security Tests XSS Protection should sanitize user input in invoice descriptions","status":"passed","title":"should sanitize user input in invoice descriptions","duration":15537,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authentication Security"],"fullName":" Security Tests Authentication Security should reject invalid JWT tokens","status":"passed","title":"should reject invalid JWT tokens","duration":10788,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authentication Security"],"fullName":" Security Tests Authentication Security should reject expired tokens","status":"passed","title":"should reject expired tokens","duration":9664,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authentication Security"],"fullName":" Security Tests Authentication Security should reject requests without Authorization header","status":"passed","title":"should reject requests without Authorization header","duration":7660,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authentication Security"],"fullName":" Security Tests Authentication Security should prevent brute force attacks with rate limiting","status":"passed","title":"should prevent brute force attacks with rate limiting","duration":11324,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authentication Security"],"fullName":" Security Tests Authentication Security should not reveal if user exists during login","status":"passed","title":"should not reveal if user exists during login","duration":8940,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authorization Security"],"fullName":" Security Tests Authorization Security should prevent privilege escalation","status":"passed","title":"should prevent privilege escalation","duration":9337,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authorization Security"],"fullName":" Security Tests Authorization Security should prevent role manipulation via request body","status":"passed","title":"should prevent role manipulation via request body","duration":5621,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Tenant Isolation Security"],"fullName":" Security Tests Tenant Isolation Security should prevent cross-tenant data access via ID manipulation","status":"passed","title":"should prevent cross-tenant data access via ID manipulation","duration":4923,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Tenant Isolation Security"],"fullName":" Security Tests Tenant Isolation Security should prevent cross-tenant data modification","status":"passed","title":"should prevent cross-tenant data modification","duration":4645,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Tenant Isolation Security"],"fullName":" Security Tests Tenant Isolation Security should prevent tenant ID spoofing via header","status":"passed","title":"should prevent tenant ID spoofing via header","duration":4794,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Input Validation Security"],"fullName":" Security Tests Input Validation Security should reject malformed email addresses","status":"passed","title":"should reject malformed email addresses","duration":4787,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Input Validation Security"],"fullName":" Security Tests Input Validation Security should reject extremely long input strings","status":"passed","title":"should reject extremely long input strings","duration":4690,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Input Validation Security"],"fullName":" Security Tests Input Validation Security should reject special characters in tenant slug","status":"passed","title":"should reject special characters in tenant slug","duration":5533,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Input Validation Security"],"fullName":" Security Tests Input Validation Security should sanitize numeric inputs","status":"passed","title":"should sanitize numeric inputs","duration":7449,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Session Management Security"],"fullName":" Security Tests Session Management Security should invalidate tokens after user is deactivated","status":"passed","title":"should invalidate tokens after user is deactivated","duration":7236,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Session Management Security"],"fullName":" Security Tests Session Management Security should reject tokens for users without active memberships","status":"passed","title":"should reject tokens for users without active memberships","duration":9584,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Password Security"],"fullName":" Security Tests Password Security should hash passwords and not store them in plain text","status":"passed","title":"should hash passwords and not store them in plain text","duration":7241,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Password Security"],"fullName":" Security Tests Password Security should reject weak passwords","status":"passed","title":"should reject weak passwords","duration":5349,"failureMessages":[]},{"ancestorTitles":["","Security Tests","CSRF Protection"],"fullName":" Security Tests CSRF Protection should validate request origin for state-changing operations","status":"passed","title":"should validate request origin for state-changing operations","duration":5218,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Path Traversal Protection"],"fullName":" Security Tests Path Traversal Protection should prevent path traversal in file names","status":"passed","title":"should prevent path traversal in file names","duration":5043,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Data Exposure"],"fullName":" Security Tests Data Exposure should not expose sensitive data in error messages","status":"passed","title":"should not expose sensitive data in error messages","duration":4919,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Data Exposure"],"fullName":" Security Tests Data Exposure should not expose user passwords in API responses","status":"passed","title":"should not expose user passwords in API responses","duration":4963,"failureMessages":[]}],"startTime":1765313637565,"endTime":1765313839101,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/security.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Settings Integration Tests","GET /api/v1/settings/tenant"],"fullName":" Settings Integration Tests GET /api/v1/settings/tenant should return default tenant settings if none exist","status":"passed","title":"should return default tenant settings if none exist","duration":6883,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","GET /api/v1/settings/tenant"],"fullName":" Settings Integration Tests GET /api/v1/settings/tenant should return existing tenant settings","status":"passed","title":"should return existing tenant settings","duration":5718,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/tenant"],"fullName":" Settings Integration Tests PUT /api/v1/settings/tenant should allow TenantOwner to update settings","status":"passed","title":"should allow TenantOwner to update settings","duration":5699,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/tenant"],"fullName":" Settings Integration Tests PUT /api/v1/settings/tenant should allow Accountant to update settings","status":"passed","title":"should allow Accountant to update settings","duration":7468,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/tenant"],"fullName":" Settings Integration Tests PUT /api/v1/settings/tenant should reject Staff from updating settings","status":"passed","title":"should reject Staff from updating settings","duration":5845,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/tenant"],"fullName":" Settings Integration Tests PUT /api/v1/settings/tenant should reject ReadOnly from updating settings","status":"passed","title":"should reject ReadOnly from updating settings","duration":5870,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","GET /api/v1/settings/user"],"fullName":" Settings Integration Tests GET /api/v1/settings/user should return user settings with effective values","status":"passed","title":"should return user settings with effective values","duration":5769,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/user"],"fullName":" Settings Integration Tests PUT /api/v1/settings/user should allow user to update their own settings","status":"passed","title":"should allow user to update their own settings","duration":5693,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/user"],"fullName":" Settings Integration Tests PUT /api/v1/settings/user should return effective settings after update","status":"passed","title":"should return effective settings after update","duration":5768,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","Tenant Isolation"],"fullName":" Settings Integration Tests Tenant Isolation should only return settings for current tenant","status":"passed","title":"should only return settings for current tenant","duration":7143,"failureMessages":[]}],"startTime":1765314675268,"endTime":1765314737124,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/settings.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Smoke Tests - Happy Path Flows","AUTH + TENANT CREATION - POST /api/v1/auth/register"],"fullName":" Smoke Tests - Happy Path Flows AUTH + TENANT CREATION - POST /api/v1/auth/register should register new tenant + owner user and return token","status":"passed","title":"should register new tenant + owner user and return token","duration":5869,"failureMessages":[]},{"ancestorTitles":["","Smoke Tests - Happy Path Flows","AUTH - POST /api/v1/auth/login"],"fullName":" Smoke Tests - Happy Path Flows AUTH - POST /api/v1/auth/login should login successfully and return token","status":"passed","title":"should login successfully and return token","duration":6398,"failureMessages":[]},{"ancestorTitles":["","Smoke Tests - Happy Path Flows","CLIENT COMPANY - POST /api/v1/client-companies and GET /api/v1/client-companies"],"fullName":" Smoke Tests - Happy Path Flows CLIENT COMPANY - POST /api/v1/client-companies and GET /api/v1/client-companies should create client company and list it for the tenant","status":"passed","title":"should create client company and list it for the tenant","duration":3440,"failureMessages":[]},{"ancestorTitles":["","Smoke Tests - Happy Path Flows","DOCUMENT UPLOAD - POST /api/v1/documents/upload"],"fullName":" Smoke Tests - Happy Path Flows DOCUMENT UPLOAD - POST /api/v1/documents/upload should upload document and set status to UPLOADED","status":"passed","title":"should upload document and set status to UPLOADED","duration":3309,"failureMessages":[]},{"ancestorTitles":["","Smoke Tests - Happy Path Flows","INVOICE CREATION - POST /api/v1/invoices"],"fullName":" Smoke Tests - Happy Path Flows INVOICE CREATION - POST /api/v1/invoices should create invoice for client company","status":"passed","title":"should create invoice for client company","duration":3626,"failureMessages":[]},{"ancestorTitles":["","Smoke Tests - Happy Path Flows","REPORTING - POST /api/v1/reports/generate"],"fullName":" Smoke Tests - Happy Path Flows REPORTING - POST /api/v1/reports/generate should generate company financial summary report in JSON mode","status":"passed","title":"should generate company financial summary report in JSON mode","duration":2956,"failureMessages":[]},{"ancestorTitles":["","Smoke Tests - Happy Path Flows","NOTIFICATIONS - GET /api/v1/notifications"],"fullName":" Smoke Tests - Happy Path Flows NOTIFICATIONS - GET /api/v1/notifications should list notifications and ensure tenant isolation","status":"passed","title":"should list notifications and ensure tenant isolation","duration":2693,"failureMessages":[]},{"ancestorTitles":["","Smoke Tests - Happy Path Flows","SETTINGS - GET/PUT /api/v1/settings/tenant and /api/v1/settings/user"],"fullName":" Smoke Tests - Happy Path Flows SETTINGS - GET/PUT /api/v1/settings/tenant and /api/v1/settings/user should get and update tenant settings","status":"passed","title":"should get and update tenant settings","duration":2737,"failureMessages":[]},{"ancestorTitles":["","Smoke Tests - Happy Path Flows","SETTINGS - GET/PUT /api/v1/settings/tenant and /api/v1/settings/user"],"fullName":" Smoke Tests - Happy Path Flows SETTINGS - GET/PUT /api/v1/settings/tenant and /api/v1/settings/user should get and update user settings","status":"passed","title":"should get and update user settings","duration":2643,"failureMessages":[]},{"ancestorTitles":["","Smoke Tests - Happy Path Flows","AUDIT LOGS - GET /api/v1/audit-logs"],"fullName":" Smoke Tests - Happy Path Flows AUDIT LOGS - GET /api/v1/audit-logs should list audit logs for tenant owner","status":"passed","title":"should list audit logs for tenant owner","duration":2887,"failureMessages":[]}],"startTime":1765314201448,"endTime":1765314238008,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/smoke.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","OCR Service"],"fullName":" AI Pipeline & Risk Features Integration Tests OCR Service should return non-empty raw_text and engineName for PDF file","status":"passed","title":"should return non-empty raw_text and engineName for PDF file","duration":1968,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","OCR Service"],"fullName":" AI Pipeline & Risk Features Integration Tests OCR Service should return non-empty raw_text and engineName for image file","status":"passed","title":"should return non-empty raw_text and engineName for image file","duration":1193,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Document Parser Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Document Parser Service should parse OCR text for invoice type and return structured data","status":"passed","title":"should parse OCR text for invoice type and return structured data","duration":1873,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Document Parser Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Document Parser Service should parse OCR text for bank statement type","status":"passed","title":"should parse OCR text for bank statement type","duration":1887,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Risk Feature Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Risk Feature Service should generate risk features with DUE_BEFORE_ISSUE flag when due_date < issue_date","status":"passed","title":"should generate risk features with DUE_BEFORE_ISSUE flag when due_date < issue_date","duration":1937,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Risk Feature Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Risk Feature Service should generate risk features with DUPLICATE_INVOICE_NUMBER flag","status":"passed","title":"should generate risk features with DUPLICATE_INVOICE_NUMBER flag","duration":1899,"failureMessages":[]}],"startTime":1765314737279,"endTime":1765314748036,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/ai-pipeline.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","ClientCompanyService","listClientCompanies"],"fullName":" ClientCompanyService listClientCompanies should return paginated list of client companies for a tenant","status":"passed","title":"should return paginated list of client companies for a tenant","duration":1637,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","listClientCompanies"],"fullName":" ClientCompanyService listClientCompanies should filter by isActive when provided","status":"passed","title":"should filter by isActive when provided","duration":1064,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","listClientCompanies"],"fullName":" ClientCompanyService listClientCompanies should search by name or tax number when search filter is provided","status":"passed","title":"should search by name or tax number when search filter is provided","duration":987,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","getClientCompanyById"],"fullName":" ClientCompanyService getClientCompanyById should return client company with stats when found","status":"passed","title":"should return client company with stats when found","duration":989,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","getClientCompanyById"],"fullName":" ClientCompanyService getClientCompanyById should throw NotFoundError when client company not found","status":"passed","title":"should throw NotFoundError when client company not found","duration":997,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","createClientCompany"],"fullName":" ClientCompanyService createClientCompany should create a new client company","status":"failed","title":"should create a new client company","duration":987,"failureMessages":["Maksimum müşteri şirketi limitine ulaşıldı. Daha fazla müşteri eklemek için planınızı yükseltmeniz gerekiyor."],"location":{"line":135,"column":13}},{"ancestorTitles":["","ClientCompanyService","createClientCompany"],"fullName":" ClientCompanyService createClientCompany should throw ValidationError when tax number already exists","status":"passed","title":"should throw ValidationError when tax number already exists","duration":1034,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","updateClientCompany"],"fullName":" ClientCompanyService updateClientCompany should update an existing client company","status":"passed","title":"should update an existing client company","duration":1163,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","updateClientCompany"],"fullName":" ClientCompanyService updateClientCompany should throw NotFoundError when client company not found","status":"passed","title":"should throw NotFoundError when client company not found","duration":949,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","deleteClientCompany"],"fullName":" ClientCompanyService deleteClientCompany should delete an existing client company","status":"passed","title":"should delete an existing client company","duration":1490,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","deleteClientCompany"],"fullName":" ClientCompanyService deleteClientCompany should throw NotFoundError when client company not found","status":"passed","title":"should throw NotFoundError when client company not found","duration":1503,"failureMessages":[]}],"startTime":1765314654957,"endTime":1765314667757,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/client-company-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should return AI analysis for a document","status":"passed","title":"should return AI analysis for a document","duration":1869,"failureMessages":[]},{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should throw NotFoundError when document not found","status":"passed","title":"should throw NotFoundError when document not found","duration":926,"failureMessages":[]},{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should enforce tenant isolation","status":"passed","title":"should enforce tenant isolation","duration":956,"failureMessages":[]},{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should return null for missing AI results","status":"passed","title":"should return null for missing AI results","duration":918,"failureMessages":[]}],"startTime":1765314845105,"endTime":1765314849774,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/document-ai-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","DocumentService","uploadDocument"],"fullName":" DocumentService uploadDocument should upload a document successfully","status":"passed","title":"should upload a document successfully","duration":2635,"failureMessages":[]},{"ancestorTitles":["","DocumentService","uploadDocument"],"fullName":" DocumentService uploadDocument should throw ValidationError when client company doesn't belong to tenant","status":"passed","title":"should throw ValidationError when client company doesn't belong to tenant","duration":1114,"failureMessages":[]},{"ancestorTitles":["","DocumentService","uploadDocument"],"fullName":" DocumentService uploadDocument should throw ValidationError when file size exceeds limit","status":"passed","title":"should throw ValidationError when file size exceeds limit","duration":1006,"failureMessages":[]},{"ancestorTitles":["","DocumentService","listDocuments"],"fullName":" DocumentService listDocuments should return paginated list of documents for a tenant","status":"passed","title":"should return paginated list of documents for a tenant","duration":999,"failureMessages":[]},{"ancestorTitles":["","DocumentService","getDocumentById"],"fullName":" DocumentService getDocumentById should return document with extracted data when found","status":"passed","title":"should return document with extracted data when found","duration":932,"failureMessages":[]},{"ancestorTitles":["","DocumentService","getDocumentById"],"fullName":" DocumentService getDocumentById should throw NotFoundError when document not found","status":"passed","title":"should throw NotFoundError when document not found","duration":979,"failureMessages":[]},{"ancestorTitles":["","DocumentService","deleteDocument"],"fullName":" DocumentService deleteDocument should soft delete a document","status":"passed","title":"should soft delete a document","duration":962,"failureMessages":[]}],"startTime":1765314784407,"endTime":1765314793034,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/document-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","InvoiceService","createInvoice"],"fullName":" InvoiceService createInvoice should create an invoice with lines","status":"passed","title":"should create an invoice with lines","duration":1614,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","createInvoice"],"fullName":" InvoiceService createInvoice should throw ValidationError when client company doesn't belong to tenant","status":"passed","title":"should throw ValidationError when client company doesn't belong to tenant","duration":945,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","updateInvoiceStatus"],"fullName":" InvoiceService updateInvoiceStatus should update invoice status","status":"passed","title":"should update invoice status","duration":920,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","updateInvoiceStatus"],"fullName":" InvoiceService updateInvoiceStatus should throw NotFoundError when invoice not found","status":"passed","title":"should throw NotFoundError when invoice not found","duration":988,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","listInvoices"],"fullName":" InvoiceService listInvoices should return paginated list of invoices for a tenant","status":"passed","title":"should return paginated list of invoices for a tenant","duration":931,"failureMessages":[]}],"startTime":1765314801899,"endTime":1765314807297,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/invoice-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","ReportingService","generateCompanyFinancialSummary"],"fullName":" ReportingService generateCompanyFinancialSummary should return correct structure","status":"passed","title":"should return correct structure","duration":4365,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyFinancialSummary"],"fullName":" ReportingService generateCompanyFinancialSummary should respect tenantId","status":"passed","title":"should respect tenantId","duration":2613,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyFinancialSummary"],"fullName":" ReportingService generateCompanyFinancialSummary should calculate sales and purchases correctly","status":"passed","title":"should calculate sales and purchases correctly","duration":2682,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyFinancialSummary"],"fullName":" ReportingService generateCompanyFinancialSummary should count invoices by status","status":"passed","title":"should count invoices by status","duration":2701,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyFinancialSummary"],"fullName":" ReportingService generateCompanyFinancialSummary should return 404 if company not in tenant","status":"passed","title":"should return 404 if company not in tenant","duration":3016,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyRiskSummary"],"fullName":" ReportingService generateCompanyRiskSummary should return correct structure","status":"passed","title":"should return correct structure","duration":3100,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyRiskSummary"],"fullName":" ReportingService generateCompanyRiskSummary should respect tenantId","status":"passed","title":"should respect tenantId","duration":2551,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyRiskSummary"],"fullName":" ReportingService generateCompanyRiskSummary should include latest risk score","status":"passed","title":"should include latest risk score","duration":2584,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyRiskSummary"],"fullName":" ReportingService generateCompanyRiskSummary should count open alerts by severity","status":"passed","title":"should count open alerts by severity","duration":2560,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateTenantPortfolioReport"],"fullName":" ReportingService generateTenantPortfolioReport should return correct structure","status":"passed","title":"should return correct structure","duration":2656,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateTenantPortfolioReport"],"fullName":" ReportingService generateTenantPortfolioReport should respect tenantId","status":"passed","title":"should respect tenantId","duration":2770,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateTenantPortfolioReport"],"fullName":" ReportingService generateTenantPortfolioReport should include all companies","status":"passed","title":"should include all companies","duration":2673,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateDocumentActivityReport"],"fullName":" ReportingService generateDocumentActivityReport should return correct structure","status":"passed","title":"should return correct structure","duration":2628,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateDocumentActivityReport"],"fullName":" ReportingService generateDocumentActivityReport should respect tenantId","status":"passed","title":"should respect tenantId","duration":4440,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateDocumentActivityReport"],"fullName":" ReportingService generateDocumentActivityReport should work with and without clientCompanyId","status":"passed","title":"should work with and without clientCompanyId","duration":2793,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateDocumentActivityReport"],"fullName":" ReportingService generateDocumentActivityReport should group by type and status correctly","status":"passed","title":"should group by type and status correctly","duration":2690,"failureMessages":[]}],"startTime":1765314413467,"endTime":1765314460289,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/reporting-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Document Risk Scoring"],"fullName":" Risk Engine & Alerts Integration Tests Document Risk Scoring should compute risk score with severity and triggered rule codes","status":"passed","title":"should compute risk score with severity and triggered rule codes","duration":3397,"failureMessages":[]},{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Company Risk Scoring"],"fullName":" Risk Engine & Alerts Integration Tests Company Risk Scoring should generate ClientCompanyRiskScore with correct severity","status":"passed","title":"should generate ClientCompanyRiskScore with correct severity","duration":1934,"failureMessages":[]},{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Risk Alerts"],"fullName":" Risk Engine & Alerts Integration Tests Risk Alerts should create RiskAlert for high-risk document","status":"passed","title":"should create RiskAlert for high-risk document","duration":2256,"failureMessages":[]},{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Risk Alerts"],"fullName":" Risk Engine & Alerts Integration Tests Risk Alerts should create RiskAlert for high-risk company","status":"passed","title":"should create RiskAlert for high-risk company","duration":1961,"failureMessages":[]}],"startTime":1765314238234,"endTime":1765314247782,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/risk-engine.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","ScheduledReportService","createScheduledReport"],"fullName":" ScheduledReportService createScheduledReport should create a scheduled report with valid data","status":"passed","title":"should create a scheduled report with valid data","duration":4062,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","createScheduledReport"],"fullName":" ScheduledReportService createScheduledReport should throw ValidationError for invalid report code","status":"passed","title":"should throw ValidationError for invalid report code","duration":2869,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","createScheduledReport"],"fullName":" ScheduledReportService createScheduledReport should throw NotFoundError for client company from different tenant","status":"passed","title":"should throw NotFoundError for client company from different tenant","duration":2739,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","createScheduledReport"],"fullName":" ScheduledReportService createScheduledReport should validate recipients array","status":"passed","title":"should validate recipients array","duration":2526,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","listScheduledReports"],"fullName":" ScheduledReportService listScheduledReports should return only scheduled reports for the tenant","status":"passed","title":"should return only scheduled reports for the tenant","duration":2588,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","getScheduledReportById"],"fullName":" ScheduledReportService getScheduledReportById should return scheduled report for correct tenant","status":"passed","title":"should return scheduled report for correct tenant","duration":2548,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","getScheduledReportById"],"fullName":" ScheduledReportService getScheduledReportById should throw NotFoundError for report from different tenant","status":"passed","title":"should throw NotFoundError for report from different tenant","duration":2495,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","updateScheduledReport"],"fullName":" ScheduledReportService updateScheduledReport should update scheduled report","status":"passed","title":"should update scheduled report","duration":2542,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","deactivateScheduledReport"],"fullName":" ScheduledReportService deactivateScheduledReport should deactivate scheduled report","status":"passed","title":"should deactivate scheduled report","duration":2457,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","listExecutionLogsForScheduledReport"],"fullName":" ScheduledReportService listExecutionLogsForScheduledReport should return execution logs for scheduled report","status":"passed","title":"should return execution logs for scheduled report","duration":2561,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","listRecentExecutionLogsForTenant"],"fullName":" ScheduledReportService listRecentExecutionLogsForTenant should return recent execution logs for tenant","status":"passed","title":"should return recent execution logs for tenant","duration":2478,"failureMessages":[]}],"startTime":1765314509966,"endTime":1765314539831,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/scheduled-report-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","TransactionService","createTransaction"],"fullName":" TransactionService createTransaction should create a transaction with balanced debit and credit","status":"passed","title":"should create a transaction with balanced debit and credit","duration":3171,"failureMessages":[]},{"ancestorTitles":["","TransactionService","createTransaction"],"fullName":" TransactionService createTransaction should throw ValidationError when debit and credit totals don't match","status":"passed","title":"should throw ValidationError when debit and credit totals don't match","duration":1038,"failureMessages":[]},{"ancestorTitles":["","TransactionService","createTransaction"],"fullName":" TransactionService createTransaction should throw ValidationError when transaction has less than 2 lines","status":"passed","title":"should throw ValidationError when transaction has less than 2 lines","duration":951,"failureMessages":[]},{"ancestorTitles":["","TransactionService","listTransactions"],"fullName":" TransactionService listTransactions should return paginated list of transactions for a tenant","status":"passed","title":"should return paginated list of transactions for a tenant","duration":1069,"failureMessages":[]},{"ancestorTitles":["","TransactionService","listTransactions"],"fullName":" TransactionService listTransactions should filter by client company when provided","status":"passed","title":"should filter by client company when provided","duration":1116,"failureMessages":[]}],"startTime":1765314667807,"endTime":1765314675152,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/transaction-service.test.ts"}]}