{"numTotalTestSuites":150,"numPassedTestSuites":148,"numFailedTestSuites":2,"numPendingTestSuites":0,"numTotalTests":264,"numPassedTests":260,"numFailedTests":4,"numPendingTests":0,"numTodoTests":0,"startTime":1765234055765,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["","Config Module"],"fullName":" Config Module should throw error when DATABASE_URL is missing","status":"failed","title":"should throw error when DATABASE_URL is missing","duration":3345,"failureMessages":["expected [Function] to throw error including 'DATABASE_URL is required' but got 'Invalid environment configuration:\\nDATABASE_URL: Required'"],"location":{"line":26,"column":8}},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should throw error when JWT_SECRET is too short","status":"passed","title":"should throw error when JWT_SECRET is too short","duration":1645,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should return valid config with required env vars","status":"passed","title":"should return valid config with required env vars","duration":1687,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should use default LOG_LEVEL when not provided","status":"passed","title":"should use default LOG_LEVEL when not provided","duration":2380,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should validate LOG_LEVEL enum","status":"passed","title":"should validate LOG_LEVEL enum","duration":2082,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should parse WORKER_CONCURRENCY as number","status":"passed","title":"should parse WORKER_CONCURRENCY as number","duration":2096,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should use default WORKER_CONCURRENCY when not provided","status":"passed","title":"should use default WORKER_CONCURRENCY when not provided","duration":1320,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should validate WORKER_CONCURRENCY range","status":"passed","title":"should validate WORKER_CONCURRENCY range","duration":1185,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should use default NEXT_PUBLIC_API_BASE_URL when not provided","status":"passed","title":"should use default NEXT_PUBLIC_API_BASE_URL when not provided","duration":1132,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should validate EMAIL_TRANSPORT enum","status":"passed","title":"should validate EMAIL_TRANSPORT enum","duration":1164,"failureMessages":[]},{"ancestorTitles":["","Config Module"],"fullName":" Config Module should use default EMAIL_TRANSPORT when not provided","status":"failed","title":"should use default EMAIL_TRANSPORT when not provided","duration":1179,"failureMessages":["Invalid environment configuration:\nEMAIL_TRANSPORT: Invalid enum value. Expected 'stub' | 'smtp', received 'invalid'"],"location":{"line":81,"column":11}}],"startTime":1765235152686,"endTime":1765235171901,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/config/config.test.ts"},{"assertionResults":[],"startTime":1765234055765,"endTime":1765234055765,"status":"failed","message":"Invalid environment configuration:\nEMAIL_TRANSPORT: Invalid enum value. Expected 'stub' | 'smtp', received 'invalid'","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/health-routes.test.ts"},{"assertionResults":[{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should allow TenantOwner to view audit logs","status":"passed","title":"should allow TenantOwner to view audit logs","duration":10311,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should allow Accountant to view audit logs","status":"passed","title":"should allow Accountant to view audit logs","duration":7691,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should reject Staff from viewing audit logs","status":"passed","title":"should reject Staff from viewing audit logs","duration":7859,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should reject ReadOnly from viewing audit logs","status":"passed","title":"should reject ReadOnly from viewing audit logs","duration":10288,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should filter by user_id","status":"passed","title":"should filter by user_id","duration":8791,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should filter by action","status":"passed","title":"should filter by action","duration":8483,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should filter by resource_type","status":"passed","title":"should filter by resource_type","duration":7205,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should support pagination","status":"passed","title":"should support pagination","duration":8191,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","GET /api/v1/audit-logs"],"fullName":" Audit Logs Integration Tests GET /api/v1/audit-logs should include user information in response","status":"passed","title":"should include user information in response","duration":7830,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","Tenant Isolation"],"fullName":" Audit Logs Integration Tests Tenant Isolation should only return audit logs for current tenant","status":"passed","title":"should only return audit logs for current tenant","duration":7602,"failureMessages":[]},{"ancestorTitles":["","Audit Logs Integration Tests","Tenant Isolation"],"fullName":" Audit Logs Integration Tests Tenant Isolation should not allow cross-tenant access","status":"passed","title":"should not allow cross-tenant access","duration":7252,"failureMessages":[]}],"startTime":1765234849635,"endTime":1765234941139,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/audit-logs.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/register"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/register should create User, Tenant, and UserTenantMembership with TenantOwner role","status":"passed","title":"should create User, Tenant, and UserTenantMembership with TenantOwner role","duration":2393,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/register"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/register should fail with duplicate email","status":"passed","title":"should fail with duplicate email","duration":1986,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/register"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/register should fail with duplicate tenant slug","status":"passed","title":"should fail with duplicate tenant slug","duration":1951,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/login"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/login should succeed with correct credentials","status":"passed","title":"should succeed with correct credentials","duration":2340,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/login"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/login should fail with wrong password","status":"passed","title":"should fail with wrong password","duration":2062,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","POST /api/v1/auth/login"],"fullName":" Auth & Tenant Flow Integration Tests POST /api/v1/auth/login should fail with non-existent email","status":"passed","title":"should fail with non-existent email","duration":1106,"failureMessages":[]},{"ancestorTitles":["","Auth & Tenant Flow Integration Tests","Tenant Isolation"],"fullName":" Auth & Tenant Flow Integration Tests Tenant Isolation should prevent user from Tenant A accessing Tenant B's data","status":"passed","title":"should prevent user from Tenant A accessing Tenant B's data","duration":3449,"failureMessages":[]}],"startTime":1765234764320,"endTime":1765234779607,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/auth-routes.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/subscription"],"fullName":" Billing API Integration Tests GET /api/v1/billing/subscription should return default FREE plan if no subscription exists","status":"pending","title":"should return default FREE plan if no subscription exists","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/subscription"],"fullName":" Billing API Integration Tests GET /api/v1/billing/subscription should return correct plan and limits for PRO plan","status":"pending","title":"should return correct plan and limits for PRO plan","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/subscription"],"fullName":" Billing API Integration Tests GET /api/v1/billing/subscription should show limited data for Staff role","status":"pending","title":"should show limited data for Staff role","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/subscription"],"fullName":" Billing API Integration Tests GET /api/v1/billing/subscription should enforce tenant isolation","status":"pending","title":"should enforce tenant isolation","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/usage"],"fullName":" Billing API Integration Tests GET /api/v1/billing/usage should return usage summary with zero usage initially","status":"pending","title":"should return usage summary with zero usage initially","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/usage"],"fullName":" Billing API Integration Tests GET /api/v1/billing/usage should reflect correct usage after creating resources","status":"pending","title":"should reflect correct usage after creating resources","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","GET /api/v1/billing/usage"],"fullName":" Billing API Integration Tests GET /api/v1/billing/usage should enforce tenant isolation for usage","status":"pending","title":"should enforce tenant isolation for usage","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","Limit Enforcement"],"fullName":" Billing API Integration Tests Limit Enforcement should prevent creating 4th client company on FREE plan","status":"pending","title":"should prevent creating 4th client company on FREE plan","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","Limit Enforcement"],"fullName":" Billing API Integration Tests Limit Enforcement should allow creating more companies on PRO plan","status":"pending","title":"should allow creating more companies on PRO plan","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","RBAC"],"fullName":" Billing API Integration Tests RBAC should allow TenantOwner to see full subscription data","status":"pending","title":"should allow TenantOwner to see full subscription data","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","RBAC"],"fullName":" Billing API Integration Tests RBAC should allow Accountant to see full subscription data","status":"pending","title":"should allow Accountant to see full subscription data","failureMessages":[]},{"ancestorTitles":["","Billing API Integration Tests","RBAC"],"fullName":" Billing API Integration Tests RBAC should allow all roles to view usage","status":"pending","title":"should allow all roles to view usage","failureMessages":[]}],"startTime":1765234055765,"endTime":1765234055765,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/billing.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Core Domain Integration Tests","Client Companies"],"fullName":" Core Domain Integration Tests Client Companies should create client company successfully","status":"passed","title":"should create client company successfully","duration":3307,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Client Companies"],"fullName":" Core Domain Integration Tests Client Companies should fail on duplicate tax number within same tenant","status":"passed","title":"should fail on duplicate tax number within same tenant","duration":2534,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Client Companies"],"fullName":" Core Domain Integration Tests Client Companies should filter companies by tenant_id","status":"passed","title":"should filter companies by tenant_id","duration":3416,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Invoices"],"fullName":" Core Domain Integration Tests Invoices should create invoice with lines and totals match","status":"passed","title":"should create invoice with lines and totals match","duration":2876,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Invoices"],"fullName":" Core Domain Integration Tests Invoices should list invoices filtered by tenant","status":"passed","title":"should list invoices filtered by tenant","duration":3594,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Transactions"],"fullName":" Core Domain Integration Tests Transactions should create transaction with debit_total = credit_total","status":"passed","title":"should create transaction with debit_total = credit_total","duration":2797,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Transactions"],"fullName":" Core Domain Integration Tests Transactions should fail if debit_total ≠ credit_total","status":"passed","title":"should fail if debit_total ≠ credit_total","duration":2708,"failureMessages":[]},{"ancestorTitles":["","Core Domain Integration Tests","Transactions"],"fullName":" Core Domain Integration Tests Transactions should filter transactions by tenant","status":"passed","title":"should filter transactions by tenant","duration":3417,"failureMessages":[]}],"startTime":1765234639027,"endTime":1765234663676,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/core-domain.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Documents & Processing Integration Tests","POST /api/v1/documents/upload"],"fullName":" Documents & Processing Integration Tests POST /api/v1/documents/upload should create Document with status UPLOADED","status":"passed","title":"should create Document with status UPLOADED","duration":4746,"failureMessages":[]},{"ancestorTitles":["","Documents & Processing Integration Tests","Document Processing"],"fullName":" Documents & Processing Integration Tests Document Processing should process document and create OCR result, parsed data, and risk features","status":"passed","title":"should process document and create OCR result, parsed data, and risk features","duration":4588,"failureMessages":[]},{"ancestorTitles":["","Documents & Processing Integration Tests","Tenant Isolation"],"fullName":" Documents & Processing Integration Tests Tenant Isolation should prevent user from another tenant accessing document","status":"passed","title":"should prevent user from another tenant accessing document","duration":5292,"failureMessages":[]}],"startTime":1765235129194,"endTime":1765235143820,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/documents.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Integrations & Sync Integration Tests","TenantIntegration with MockAccountingProvider"],"fullName":" Integrations & Sync Integration Tests TenantIntegration with MockAccountingProvider should create integration and test connection successfully","status":"passed","title":"should create integration and test connection successfully","duration":4000,"failureMessages":[]},{"ancestorTitles":["","Integrations & Sync Integration Tests","TenantIntegration with MockAccountingProvider"],"fullName":" Integrations & Sync Integration Tests TenantIntegration with MockAccountingProvider should create sync job and process it successfully","status":"failed","title":"should create sync job and process it successfully","duration":4415,"failureMessages":["expected 0 to be greater than 0"],"location":{"line":258,"column":31}},{"ancestorTitles":["","Integrations & Sync Integration Tests","TenantIntegration with MockBankProvider"],"fullName":" Integrations & Sync Integration Tests TenantIntegration with MockBankProvider should create bank integration and sync transactions","status":"passed","title":"should create bank integration and sync transactions","duration":2611,"failureMessages":[]},{"ancestorTitles":["","Integrations & Sync Integration Tests","Tenant Isolation"],"fullName":" Integrations & Sync Integration Tests Tenant Isolation should scope all integration data to correct tenant","status":"passed","title":"should scope all integration data to correct tenant","duration":3291,"failureMessages":[]}],"startTime":1765234672836,"endTime":1765234687153,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/integrations.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should return notifications for current tenant and user","status":"passed","title":"should return notifications for current tenant and user","duration":4956,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should return tenant-wide notifications (userId = null)","status":"passed","title":"should return tenant-wide notifications (userId = null)","duration":4087,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should NOT return notifications from another tenant","status":"passed","title":"should NOT return notifications from another tenant","duration":4054,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should filter by is_read","status":"passed","title":"should filter by is_read","duration":4198,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should filter by type","status":"passed","title":"should filter by type","duration":3993,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","GET /api/v1/notifications"],"fullName":" Notifications Integration Tests GET /api/v1/notifications should support pagination","status":"passed","title":"should support pagination","duration":5745,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","POST /api/v1/notifications/:id/read"],"fullName":" Notifications Integration Tests POST /api/v1/notifications/:id/read should mark notification as read","status":"passed","title":"should mark notification as read","duration":4199,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","POST /api/v1/notifications/:id/read"],"fullName":" Notifications Integration Tests POST /api/v1/notifications/:id/read should return 404 when notification not found","status":"passed","title":"should return 404 when notification not found","duration":4154,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","POST /api/v1/notifications/:id/read"],"fullName":" Notifications Integration Tests POST /api/v1/notifications/:id/read should return 404 when user from another tenant tries to mark notification","status":"passed","title":"should return 404 when user from another tenant tries to mark notification","duration":5661,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","POST /api/v1/notifications/read-all"],"fullName":" Notifications Integration Tests POST /api/v1/notifications/read-all should mark all user's notifications as read","status":"passed","title":"should mark all user's notifications as read","duration":5242,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","POST /api/v1/notifications/read-all"],"fullName":" Notifications Integration Tests POST /api/v1/notifications/read-all should only mark notifications for current user in current tenant","status":"passed","title":"should only mark notifications for current user in current tenant","duration":4075,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","Tenant Isolation"],"fullName":" Notifications Integration Tests Tenant Isolation should prevent user from Tenant A reading notifications of Tenant B","status":"passed","title":"should prevent user from Tenant A reading notifications of Tenant B","duration":3730,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","Tenant Isolation"],"fullName":" Notifications Integration Tests Tenant Isolation should enforce tenant_id in all queries","status":"passed","title":"should enforce tenant_id in all queries","duration":4067,"failureMessages":[]},{"ancestorTitles":["","Notifications Integration Tests","Event Integration"],"fullName":" Notifications Integration Tests Event Integration should create notification when risk alert is created","status":"passed","title":"should create notification when risk alert is created","duration":3821,"failureMessages":[]}],"startTime":1765234576855,"endTime":1765234638837,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/notifications.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should allow TenantOwner to invite users","status":"passed","title":"should allow TenantOwner to invite users","duration":5871,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should allow Accountant to invite users","status":"passed","title":"should allow Accountant to invite users","duration":4890,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should deny ReadOnly user from inviting users","status":"passed","title":"should deny ReadOnly user from inviting users","duration":4520,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","POST /api/v1/tenants/:tenantId/users/invite"],"fullName":" RBAC Integration Tests POST /api/v1/tenants/:tenantId/users/invite should deny Staff user from inviting users","status":"passed","title":"should deny Staff user from inviting users","duration":4521,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","GET /api/v1/tenants/:tenantId/users"],"fullName":" RBAC Integration Tests GET /api/v1/tenants/:tenantId/users should allow all roles to read users list","status":"passed","title":"should allow all roles to read users list","duration":6848,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","Document operations"],"fullName":" RBAC Integration Tests Document operations should allow TenantOwner to create documents","status":"passed","title":"should allow TenantOwner to create documents","duration":4478,"failureMessages":[]},{"ancestorTitles":["","RBAC Integration Tests","Document operations"],"fullName":" RBAC Integration Tests Document operations should deny ReadOnly user from creating documents","status":"passed","title":"should deny ReadOnly user from creating documents","duration":4493,"failureMessages":[]}],"startTime":1765235066737,"endTime":1765235102358,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/rbac.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Report Download Routes Integration Tests","PDF Export"],"fullName":" Report Download Routes Integration Tests PDF Export should export COMPANY_FINANCIAL_SUMMARY as PDF with valid structure","status":"passed","title":"should export COMPANY_FINANCIAL_SUMMARY as PDF with valid structure","duration":4696,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","PDF Export"],"fullName":" Report Download Routes Integration Tests PDF Export should export COMPANY_RISK_SUMMARY as PDF","status":"passed","title":"should export COMPANY_RISK_SUMMARY as PDF","duration":5083,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","PDF Export"],"fullName":" Report Download Routes Integration Tests PDF Export should export TENANT_PORTFOLIO as PDF","status":"passed","title":"should export TENANT_PORTFOLIO as PDF","duration":4275,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","PDF Export"],"fullName":" Report Download Routes Integration Tests PDF Export should export DOCUMENT_ACTIVITY as PDF","status":"passed","title":"should export DOCUMENT_ACTIVITY as PDF","duration":4195,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Excel/CSV Export"],"fullName":" Report Download Routes Integration Tests Excel/CSV Export should export COMPANY_FINANCIAL_SUMMARY as CSV with valid structure and headers","status":"passed","title":"should export COMPANY_FINANCIAL_SUMMARY as CSV with valid structure and headers","duration":4057,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Excel/CSV Export"],"fullName":" Report Download Routes Integration Tests Excel/CSV Export should export TENANT_PORTFOLIO as CSV with headers matching report columns","status":"passed","title":"should export TENANT_PORTFOLIO as CSV with headers matching report columns","duration":4223,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","RBAC"],"fullName":" Report Download Routes Integration Tests RBAC should allow TenantOwner to download reports","status":"passed","title":"should allow TenantOwner to download reports","duration":4130,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","RBAC"],"fullName":" Report Download Routes Integration Tests RBAC should allow Accountant to download reports","status":"passed","title":"should allow Accountant to download reports","duration":5277,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","RBAC"],"fullName":" Report Download Routes Integration Tests RBAC should allow Staff to download reports","status":"passed","title":"should allow Staff to download reports","duration":5481,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","RBAC"],"fullName":" Report Download Routes Integration Tests RBAC should allow ReadOnly to download reports","status":"passed","title":"should allow ReadOnly to download reports","duration":5348,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Tenant Isolation"],"fullName":" Report Download Routes Integration Tests Tenant Isolation should prevent cross-tenant report downloads","status":"passed","title":"should prevent cross-tenant report downloads","duration":4123,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Error Cases"],"fullName":" Report Download Routes Integration Tests Error Cases should return 400 for invalid format","status":"passed","title":"should return 400 for invalid format","duration":4909,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Error Cases"],"fullName":" Report Download Routes Integration Tests Error Cases should return 400 for invalid report_code","status":"passed","title":"should return 400 for invalid report_code","duration":5782,"failureMessages":[]},{"ancestorTitles":["","Report Download Routes Integration Tests","Error Cases"],"fullName":" Report Download Routes Integration Tests Error Cases should return 400 for missing required client_company_id","status":"passed","title":"should return 400 for missing required client_company_id","duration":8532,"failureMessages":[]}],"startTime":1765234436447,"endTime":1765234506559,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/report-download.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","GET /api/v1/report-execution-logs"],"fullName":" Report Execution Logs Routes Integration Tests GET /api/v1/report-execution-logs should return execution logs for tenant","status":"passed","title":"should return execution logs for tenant","duration":5157,"failureMessages":[]},{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","GET /api/v1/report-execution-logs"],"fullName":" Report Execution Logs Routes Integration Tests GET /api/v1/report-execution-logs should respect limit query parameter","status":"passed","title":"should respect limit query parameter","duration":3741,"failureMessages":[]},{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","GET /api/v1/report-execution-logs"],"fullName":" Report Execution Logs Routes Integration Tests GET /api/v1/report-execution-logs should allow all roles to read logs","status":"passed","title":"should allow all roles to read logs","duration":5360,"failureMessages":[]},{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","GET /api/v1/report-execution-logs/scheduled/:scheduledReportId"],"fullName":" Report Execution Logs Routes Integration Tests GET /api/v1/report-execution-logs/scheduled/:scheduledReportId should return execution logs for specific scheduled report","status":"passed","title":"should return execution logs for specific scheduled report","duration":4133,"failureMessages":[]},{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","GET /api/v1/report-execution-logs/scheduled/:scheduledReportId"],"fullName":" Report Execution Logs Routes Integration Tests GET /api/v1/report-execution-logs/scheduled/:scheduledReportId should return 404 for scheduled report from different tenant","status":"passed","title":"should return 404 for scheduled report from different tenant","duration":4228,"failureMessages":[]},{"ancestorTitles":["","Report Execution Logs Routes Integration Tests","Tenant Isolation"],"fullName":" Report Execution Logs Routes Integration Tests Tenant Isolation should only return logs for current tenant","status":"passed","title":"should only return logs for current tenant","duration":4714,"failureMessages":[]}],"startTime":1765234941490,"endTime":1765234968823,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/report-execution-logs.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Reporting RBAC Tests","Report Generation RBAC"],"fullName":" Reporting RBAC Tests Report Generation RBAC should allow TenantOwner to generate on-demand reports","status":"passed","title":"should allow TenantOwner to generate on-demand reports","duration":4945,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Generation RBAC"],"fullName":" Reporting RBAC Tests Report Generation RBAC should allow Accountant to generate on-demand reports","status":"passed","title":"should allow Accountant to generate on-demand reports","duration":5490,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Generation RBAC"],"fullName":" Reporting RBAC Tests Report Generation RBAC should allow Staff to generate on-demand reports","status":"passed","title":"should allow Staff to generate on-demand reports","duration":6385,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Generation RBAC"],"fullName":" Reporting RBAC Tests Report Generation RBAC should allow ReadOnly to generate on-demand reports","status":"passed","title":"should allow ReadOnly to generate on-demand reports","duration":4994,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Download RBAC"],"fullName":" Reporting RBAC Tests Report Download RBAC should allow TenantOwner to download reports","status":"passed","title":"should allow TenantOwner to download reports","duration":3282,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Download RBAC"],"fullName":" Reporting RBAC Tests Report Download RBAC should allow Accountant to download reports","status":"passed","title":"should allow Accountant to download reports","duration":4046,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Download RBAC"],"fullName":" Reporting RBAC Tests Report Download RBAC should allow Staff to download reports","status":"passed","title":"should allow Staff to download reports","duration":4237,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Report Download RBAC"],"fullName":" Reporting RBAC Tests Report Download RBAC should allow ReadOnly to download reports","status":"passed","title":"should allow ReadOnly to download reports","duration":6738,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should allow TenantOwner to create scheduled reports","status":"passed","title":"should allow TenantOwner to create scheduled reports","duration":5153,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should allow Accountant to create scheduled reports","status":"passed","title":"should allow Accountant to create scheduled reports","duration":6449,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent Staff from creating scheduled reports (403)","status":"passed","title":"should prevent Staff from creating scheduled reports (403)","duration":6504,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent ReadOnly from creating scheduled reports (403)","status":"passed","title":"should prevent ReadOnly from creating scheduled reports (403)","duration":6345,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should allow TenantOwner to update scheduled reports","status":"passed","title":"should allow TenantOwner to update scheduled reports","duration":5906,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should allow Accountant to update scheduled reports","status":"passed","title":"should allow Accountant to update scheduled reports","duration":7079,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent Staff from updating scheduled reports (403)","status":"passed","title":"should prevent Staff from updating scheduled reports (403)","duration":5350,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent ReadOnly from updating scheduled reports (403)","status":"passed","title":"should prevent ReadOnly from updating scheduled reports (403)","duration":4357,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should allow TenantOwner to delete scheduled reports","status":"passed","title":"should allow TenantOwner to delete scheduled reports","duration":3281,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent Staff from deleting scheduled reports (403)","status":"passed","title":"should prevent Staff from deleting scheduled reports (403)","duration":5119,"failureMessages":[]},{"ancestorTitles":["","Reporting RBAC Tests","Scheduled Reports RBAC"],"fullName":" Reporting RBAC Tests Scheduled Reports RBAC should prevent ReadOnly from deleting scheduled reports (403)","status":"passed","title":"should prevent ReadOnly from deleting scheduled reports (403)","duration":6179,"failureMessages":[]}],"startTime":1765234175208,"endTime":1765234277048,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/reporting-rbac.test.ts"},{"assertionResults":[{"ancestorTitles":["","Reporting Routes Integration Tests","GET /api/v1/reports/definitions"],"fullName":" Reporting Routes Integration Tests GET /api/v1/reports/definitions should return 200 with active definitions","status":"passed","title":"should return 200 with active definitions","duration":5614,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","GET /api/v1/reports/definitions"],"fullName":" Reporting Routes Integration Tests GET /api/v1/reports/definitions should respect RBAC","status":"passed","title":"should respect RBAC","duration":5532,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should generate COMPANY_FINANCIAL_SUMMARY report with detailed assertions","status":"passed","title":"should generate COMPANY_FINANCIAL_SUMMARY report with detailed assertions","duration":4359,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should generate COMPANY_RISK_SUMMARY report with detailed assertions","status":"passed","title":"should generate COMPANY_RISK_SUMMARY report with detailed assertions","duration":4272,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should generate TENANT_PORTFOLIO report with detailed assertions","status":"passed","title":"should generate TENANT_PORTFOLIO report with detailed assertions","duration":3995,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should generate DOCUMENT_ACTIVITY report with detailed assertions","status":"passed","title":"should generate DOCUMENT_ACTIVITY report with detailed assertions","duration":3937,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for invalid report_code","status":"passed","title":"should return 400 for invalid report_code","duration":4014,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for missing required client_company_id","status":"passed","title":"should return 400 for missing required client_company_id","duration":4006,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should handle no data scenario gracefully (empty rows, no crash)","status":"passed","title":"should handle no data scenario gracefully (empty rows, no crash)","duration":3953,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for missing filters","status":"passed","title":"should return 400 for missing filters","duration":3989,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for missing date range","status":"passed","title":"should return 400 for missing date range","duration":4246,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for invalid date range (start > end)","status":"passed","title":"should return 400 for invalid date range (start > end)","duration":4168,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for overwide date range (>5 years)","status":"passed","title":"should return 400 for overwide date range (>5 years)","duration":4042,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for invalid report_code","status":"passed","title":"should return 400 for invalid report_code","duration":4180,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for missing client_company_id for company reports","status":"passed","title":"should return 400 for missing client_company_id for company reports","duration":4170,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 400 for invalid date format in filters","status":"passed","title":"should return 400 for invalid date format in filters","duration":4144,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return 404 for company not in tenant","status":"passed","title":"should return 404 for company not in tenant","duration":5087,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should return empty rows and default totals when no data","status":"passed","title":"should return empty rows and default totals when no data","duration":6167,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","POST /api/v1/reports/generate"],"fullName":" Reporting Routes Integration Tests POST /api/v1/reports/generate should apply limit and return meta information","status":"passed","title":"should apply limit and return meta information","duration":5535,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","Tenant Isolation"],"fullName":" Reporting Routes Integration Tests Tenant Isolation should prevent cross-tenant data access","status":"passed","title":"should prevent cross-tenant data access","duration":4513,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","RBAC"],"fullName":" Reporting Routes Integration Tests RBAC should allow TenantOwner to generate reports","status":"passed","title":"should allow TenantOwner to generate reports","duration":7906,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","RBAC"],"fullName":" Reporting Routes Integration Tests RBAC should allow Accountant to generate reports","status":"passed","title":"should allow Accountant to generate reports","duration":5556,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","RBAC"],"fullName":" Reporting Routes Integration Tests RBAC should allow Staff to generate reports","status":"passed","title":"should allow Staff to generate reports","duration":5604,"failureMessages":[]},{"ancestorTitles":["","Reporting Routes Integration Tests","RBAC"],"fullName":" Reporting Routes Integration Tests RBAC should allow ReadOnly to generate reports","status":"passed","title":"should allow ReadOnly to generate reports","duration":5588,"failureMessages":[]}],"startTime":1765234060083,"endTime":1765234174665,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/reporting-routes.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Reporting Tenant Isolation Tests","Report Generation Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Report Generation Tenant Isolation should prevent Tenant A from generating reports with Tenant B's client_company_id","status":"passed","title":"should prevent Tenant A from generating reports with Tenant B's client_company_id","duration":11075,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Report Generation Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Report Generation Tenant Isolation should verify no data leakage between tenants in reports","status":"passed","title":"should verify no data leakage between tenants in reports","duration":7411,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Report Generation Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Report Generation Tenant Isolation should prevent Tenant A from accessing Tenant B's portfolio data","status":"passed","title":"should prevent Tenant A from accessing Tenant B's portfolio data","duration":6649,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Scheduled Reports Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Scheduled Reports Tenant Isolation should prevent Tenant A from reading Tenant B's ScheduledReport rows","status":"passed","title":"should prevent Tenant A from reading Tenant B's ScheduledReport rows","duration":4934,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Scheduled Reports Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Scheduled Reports Tenant Isolation should prevent Tenant A from updating Tenant B's ScheduledReport","status":"passed","title":"should prevent Tenant A from updating Tenant B's ScheduledReport","duration":5036,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Scheduled Reports Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Scheduled Reports Tenant Isolation should prevent Tenant A from deleting Tenant B's ScheduledReport","status":"passed","title":"should prevent Tenant A from deleting Tenant B's ScheduledReport","duration":9470,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Scheduled Reports Tenant Isolation"],"fullName":" Reporting Tenant Isolation Tests Scheduled Reports Tenant Isolation should prevent Tenant A from seeing Tenant B's ReportExecutionLogs","status":"passed","title":"should prevent Tenant A from seeing Tenant B's ReportExecutionLogs","duration":5479,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Cross-Tenant Data Access Prevention"],"fullName":" Reporting Tenant Isolation Tests Cross-Tenant Data Access Prevention should verify all report queries are tenant-scoped","status":"passed","title":"should verify all report queries are tenant-scoped","duration":6833,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Cross-Tenant Data Access Prevention"],"fullName":" Reporting Tenant Isolation Tests Cross-Tenant Data Access Prevention should verify scheduled report queries are tenant-scoped","status":"passed","title":"should verify scheduled report queries are tenant-scoped","duration":5629,"failureMessages":[]},{"ancestorTitles":["","Reporting Tenant Isolation Tests","Cross-Tenant Data Access Prevention"],"fullName":" Reporting Tenant Isolation Tests Cross-Tenant Data Access Prevention should verify execution log queries are tenant-scoped","status":"passed","title":"should verify execution log queries are tenant-scoped","duration":6358,"failureMessages":[]}],"startTime":1765234507633,"endTime":1765234576510,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/reporting-tenant-isolation.test.ts"},{"assertionResults":[{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","POST /api/v1/scheduled-reports"],"fullName":" Scheduled Reports Routes Integration Tests POST /api/v1/scheduled-reports should allow TenantOwner to create scheduled report","status":"passed","title":"should allow TenantOwner to create scheduled report","duration":3999,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","POST /api/v1/scheduled-reports"],"fullName":" Scheduled Reports Routes Integration Tests POST /api/v1/scheduled-reports should allow Accountant to create scheduled report","status":"passed","title":"should allow Accountant to create scheduled report","duration":4765,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","POST /api/v1/scheduled-reports"],"fullName":" Scheduled Reports Routes Integration Tests POST /api/v1/scheduled-reports should reject Staff from creating scheduled report","status":"passed","title":"should reject Staff from creating scheduled report","duration":4670,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","POST /api/v1/scheduled-reports"],"fullName":" Scheduled Reports Routes Integration Tests POST /api/v1/scheduled-reports should reject ReadOnly from creating scheduled report","status":"passed","title":"should reject ReadOnly from creating scheduled report","duration":5163,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","GET /api/v1/scheduled-reports"],"fullName":" Scheduled Reports Routes Integration Tests GET /api/v1/scheduled-reports should list scheduled reports for tenant","status":"passed","title":"should list scheduled reports for tenant","duration":4161,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","PUT /api/v1/scheduled-reports/:id"],"fullName":" Scheduled Reports Routes Integration Tests PUT /api/v1/scheduled-reports/:id should update scheduled report","status":"passed","title":"should update scheduled report","duration":3623,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","DELETE /api/v1/scheduled-reports/:id"],"fullName":" Scheduled Reports Routes Integration Tests DELETE /api/v1/scheduled-reports/:id should deactivate scheduled report","status":"passed","title":"should deactivate scheduled report","duration":3494,"failureMessages":[]},{"ancestorTitles":["","Scheduled Reports Routes Integration Tests","Tenant Isolation"],"fullName":" Scheduled Reports Routes Integration Tests Tenant Isolation should prevent accessing other tenant's scheduled reports","status":"passed","title":"should prevent accessing other tenant's scheduled reports","duration":4182,"failureMessages":[]}],"startTime":1765234730118,"endTime":1765234764175,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/scheduled-reports.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Security Tests","SQL Injection Protection"],"fullName":" Security Tests SQL Injection Protection should prevent SQL injection in search queries","status":"passed","title":"should prevent SQL injection in search queries","duration":6184,"failureMessages":[]},{"ancestorTitles":["","Security Tests","SQL Injection Protection"],"fullName":" Security Tests SQL Injection Protection should prevent SQL injection in ID parameters","status":"passed","title":"should prevent SQL injection in ID parameters","duration":5398,"failureMessages":[]},{"ancestorTitles":["","Security Tests","SQL Injection Protection"],"fullName":" Security Tests SQL Injection Protection should prevent SQL injection in filter parameters","status":"passed","title":"should prevent SQL injection in filter parameters","duration":6541,"failureMessages":[]},{"ancestorTitles":["","Security Tests","XSS Protection"],"fullName":" Security Tests XSS Protection should sanitize user input in company names","status":"passed","title":"should sanitize user input in company names","duration":7745,"failureMessages":[]},{"ancestorTitles":["","Security Tests","XSS Protection"],"fullName":" Security Tests XSS Protection should sanitize user input in invoice descriptions","status":"passed","title":"should sanitize user input in invoice descriptions","duration":8298,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authentication Security"],"fullName":" Security Tests Authentication Security should reject invalid JWT tokens","status":"passed","title":"should reject invalid JWT tokens","duration":6022,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authentication Security"],"fullName":" Security Tests Authentication Security should reject expired tokens","status":"passed","title":"should reject expired tokens","duration":8065,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authentication Security"],"fullName":" Security Tests Authentication Security should reject requests without Authorization header","status":"passed","title":"should reject requests without Authorization header","duration":7046,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authentication Security"],"fullName":" Security Tests Authentication Security should prevent brute force attacks with rate limiting","status":"passed","title":"should prevent brute force attacks with rate limiting","duration":9007,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authentication Security"],"fullName":" Security Tests Authentication Security should not reveal if user exists during login","status":"passed","title":"should not reveal if user exists during login","duration":6217,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authorization Security"],"fullName":" Security Tests Authorization Security should prevent privilege escalation","status":"passed","title":"should prevent privilege escalation","duration":8482,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Authorization Security"],"fullName":" Security Tests Authorization Security should prevent role manipulation via request body","status":"passed","title":"should prevent role manipulation via request body","duration":8375,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Tenant Isolation Security"],"fullName":" Security Tests Tenant Isolation Security should prevent cross-tenant data access via ID manipulation","status":"passed","title":"should prevent cross-tenant data access via ID manipulation","duration":6068,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Tenant Isolation Security"],"fullName":" Security Tests Tenant Isolation Security should prevent cross-tenant data modification","status":"passed","title":"should prevent cross-tenant data modification","duration":5857,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Tenant Isolation Security"],"fullName":" Security Tests Tenant Isolation Security should prevent tenant ID spoofing via header","status":"passed","title":"should prevent tenant ID spoofing via header","duration":5356,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Input Validation Security"],"fullName":" Security Tests Input Validation Security should reject malformed email addresses","status":"passed","title":"should reject malformed email addresses","duration":4300,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Input Validation Security"],"fullName":" Security Tests Input Validation Security should reject extremely long input strings","status":"passed","title":"should reject extremely long input strings","duration":4297,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Input Validation Security"],"fullName":" Security Tests Input Validation Security should reject special characters in tenant slug","status":"passed","title":"should reject special characters in tenant slug","duration":4219,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Input Validation Security"],"fullName":" Security Tests Input Validation Security should sanitize numeric inputs","status":"passed","title":"should sanitize numeric inputs","duration":4395,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Session Management Security"],"fullName":" Security Tests Session Management Security should invalidate tokens after user is deactivated","status":"passed","title":"should invalidate tokens after user is deactivated","duration":5077,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Session Management Security"],"fullName":" Security Tests Session Management Security should reject tokens for users without active memberships","status":"passed","title":"should reject tokens for users without active memberships","duration":6032,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Password Security"],"fullName":" Security Tests Password Security should hash passwords and not store them in plain text","status":"passed","title":"should hash passwords and not store them in plain text","duration":4717,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Password Security"],"fullName":" Security Tests Password Security should reject weak passwords","status":"passed","title":"should reject weak passwords","duration":4196,"failureMessages":[]},{"ancestorTitles":["","Security Tests","CSRF Protection"],"fullName":" Security Tests CSRF Protection should validate request origin for state-changing operations","status":"passed","title":"should validate request origin for state-changing operations","duration":4179,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Path Traversal Protection"],"fullName":" Security Tests Path Traversal Protection should prevent path traversal in file names","status":"passed","title":"should prevent path traversal in file names","duration":4043,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Data Exposure"],"fullName":" Security Tests Data Exposure should not expose sensitive data in error messages","status":"passed","title":"should not expose sensitive data in error messages","duration":4259,"failureMessages":[]},{"ancestorTitles":["","Security Tests","Data Exposure"],"fullName":" Security Tests Data Exposure should not expose user passwords in API responses","status":"passed","title":"should not expose user passwords in API responses","duration":4276,"failureMessages":[]}],"startTime":1765234277505,"endTime":1765234436160,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/security.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Settings Integration Tests","GET /api/v1/settings/tenant"],"fullName":" Settings Integration Tests GET /api/v1/settings/tenant should return default tenant settings if none exist","status":"passed","title":"should return default tenant settings if none exist","duration":7025,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","GET /api/v1/settings/tenant"],"fullName":" Settings Integration Tests GET /api/v1/settings/tenant should return existing tenant settings","status":"passed","title":"should return existing tenant settings","duration":6403,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/tenant"],"fullName":" Settings Integration Tests PUT /api/v1/settings/tenant should allow TenantOwner to update settings","status":"passed","title":"should allow TenantOwner to update settings","duration":6235,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/tenant"],"fullName":" Settings Integration Tests PUT /api/v1/settings/tenant should allow Accountant to update settings","status":"passed","title":"should allow Accountant to update settings","duration":6212,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/tenant"],"fullName":" Settings Integration Tests PUT /api/v1/settings/tenant should reject Staff from updating settings","status":"passed","title":"should reject Staff from updating settings","duration":6009,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/tenant"],"fullName":" Settings Integration Tests PUT /api/v1/settings/tenant should reject ReadOnly from updating settings","status":"passed","title":"should reject ReadOnly from updating settings","duration":5820,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","GET /api/v1/settings/user"],"fullName":" Settings Integration Tests GET /api/v1/settings/user should return user settings with effective values","status":"passed","title":"should return user settings with effective values","duration":5931,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/user"],"fullName":" Settings Integration Tests PUT /api/v1/settings/user should allow user to update their own settings","status":"passed","title":"should allow user to update their own settings","duration":5924,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","PUT /api/v1/settings/user"],"fullName":" Settings Integration Tests PUT /api/v1/settings/user should return effective settings after update","status":"passed","title":"should return effective settings after update","duration":5887,"failureMessages":[]},{"ancestorTitles":["","Settings Integration Tests","Tenant Isolation"],"fullName":" Settings Integration Tests Tenant Isolation should only return settings for current tenant","status":"passed","title":"should only return settings for current tenant","duration":7206,"failureMessages":[]}],"startTime":1765234992393,"endTime":1765235055045,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/routes/__tests__/settings.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","OCR Service"],"fullName":" AI Pipeline & Risk Features Integration Tests OCR Service should return non-empty raw_text and engineName for PDF file","status":"passed","title":"should return non-empty raw_text and engineName for PDF file","duration":1754,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","OCR Service"],"fullName":" AI Pipeline & Risk Features Integration Tests OCR Service should return non-empty raw_text and engineName for image file","status":"passed","title":"should return non-empty raw_text and engineName for image file","duration":1053,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Document Parser Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Document Parser Service should parse OCR text for invoice type and return structured data","status":"passed","title":"should parse OCR text for invoice type and return structured data","duration":2061,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Document Parser Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Document Parser Service should parse OCR text for bank statement type","status":"passed","title":"should parse OCR text for bank statement type","duration":2054,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Risk Feature Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Risk Feature Service should generate risk features with DUE_BEFORE_ISSUE flag when due_date < issue_date","status":"passed","title":"should generate risk features with DUE_BEFORE_ISSUE flag when due_date < issue_date","duration":2095,"failureMessages":[]},{"ancestorTitles":["","AI Pipeline & Risk Features Integration Tests","Risk Feature Service"],"fullName":" AI Pipeline & Risk Features Integration Tests Risk Feature Service should generate risk features with DUPLICATE_INVOICE_NUMBER flag","status":"passed","title":"should generate risk features with DUPLICATE_INVOICE_NUMBER flag","duration":2374,"failureMessages":[]}],"startTime":1765235055208,"endTime":1765235066599,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/ai-pipeline.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","ClientCompanyService","listClientCompanies"],"fullName":" ClientCompanyService listClientCompanies should return paginated list of client companies for a tenant","status":"passed","title":"should return paginated list of client companies for a tenant","duration":2190,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","listClientCompanies"],"fullName":" ClientCompanyService listClientCompanies should filter by isActive when provided","status":"passed","title":"should filter by isActive when provided","duration":1262,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","listClientCompanies"],"fullName":" ClientCompanyService listClientCompanies should search by name or tax number when search filter is provided","status":"passed","title":"should search by name or tax number when search filter is provided","duration":1279,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","getClientCompanyById"],"fullName":" ClientCompanyService getClientCompanyById should return client company with stats when found","status":"passed","title":"should return client company with stats when found","duration":1258,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","getClientCompanyById"],"fullName":" ClientCompanyService getClientCompanyById should throw NotFoundError when client company not found","status":"passed","title":"should throw NotFoundError when client company not found","duration":1142,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","createClientCompany"],"fullName":" ClientCompanyService createClientCompany should create a new client company","status":"failed","title":"should create a new client company","duration":1194,"failureMessages":["Maksimum müşteri şirketi limitine ulaşıldı. Daha fazla müşteri eklemek için planınızı yükseltmeniz gerekiyor."],"location":{"line":135,"column":13}},{"ancestorTitles":["","ClientCompanyService","createClientCompany"],"fullName":" ClientCompanyService createClientCompany should throw ValidationError when tax number already exists","status":"passed","title":"should throw ValidationError when tax number already exists","duration":1148,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","updateClientCompany"],"fullName":" ClientCompanyService updateClientCompany should update an existing client company","status":"passed","title":"should update an existing client company","duration":1127,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","updateClientCompany"],"fullName":" ClientCompanyService updateClientCompany should throw NotFoundError when client company not found","status":"passed","title":"should throw NotFoundError when client company not found","duration":1089,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","deleteClientCompany"],"fullName":" ClientCompanyService deleteClientCompany should delete an existing client company","status":"passed","title":"should delete an existing client company","duration":1134,"failureMessages":[]},{"ancestorTitles":["","ClientCompanyService","deleteClientCompany"],"fullName":" ClientCompanyService deleteClientCompany should throw NotFoundError when client company not found","status":"passed","title":"should throw NotFoundError when client company not found","duration":1385,"failureMessages":[]}],"startTime":1765234968993,"endTime":1765234983202,"status":"failed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/client-company-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should return AI analysis for a document","status":"passed","title":"should return AI analysis for a document","duration":1915,"failureMessages":[]},{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should throw NotFoundError when document not found","status":"passed","title":"should throw NotFoundError when document not found","duration":1073,"failureMessages":[]},{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should enforce tenant isolation","status":"passed","title":"should enforce tenant isolation","duration":1038,"failureMessages":[]},{"ancestorTitles":["","DocumentAIService","getDocumentAIAnalysis"],"fullName":" DocumentAIService getDocumentAIAnalysis should return null for missing AI results","status":"passed","title":"should return null for missing AI results","duration":1076,"failureMessages":[]}],"startTime":1765235171988,"endTime":1765235177090,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/document-ai-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","DocumentService","uploadDocument"],"fullName":" DocumentService uploadDocument should upload a document successfully","status":"passed","title":"should upload a document successfully","duration":1996,"failureMessages":[]},{"ancestorTitles":["","DocumentService","uploadDocument"],"fullName":" DocumentService uploadDocument should throw ValidationError when client company doesn't belong to tenant","status":"passed","title":"should throw ValidationError when client company doesn't belong to tenant","duration":3177,"failureMessages":[]},{"ancestorTitles":["","DocumentService","uploadDocument"],"fullName":" DocumentService uploadDocument should throw ValidationError when file size exceeds limit","status":"passed","title":"should throw ValidationError when file size exceeds limit","duration":4545,"failureMessages":[]},{"ancestorTitles":["","DocumentService","listDocuments"],"fullName":" DocumentService listDocuments should return paginated list of documents for a tenant","status":"passed","title":"should return paginated list of documents for a tenant","duration":4703,"failureMessages":[]},{"ancestorTitles":["","DocumentService","getDocumentById"],"fullName":" DocumentService getDocumentById should return document with extracted data when found","status":"passed","title":"should return document with extracted data when found","duration":5214,"failureMessages":[]},{"ancestorTitles":["","DocumentService","getDocumentById"],"fullName":" DocumentService getDocumentById should throw NotFoundError when document not found","status":"passed","title":"should throw NotFoundError when document not found","duration":3884,"failureMessages":[]},{"ancestorTitles":["","DocumentService","deleteDocument"],"fullName":" DocumentService deleteDocument should soft delete a document","status":"passed","title":"should soft delete a document","duration":2786,"failureMessages":[]}],"startTime":1765235102464,"endTime":1765235128786,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/document-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","InvoiceService","createInvoice"],"fullName":" InvoiceService createInvoice should create an invoice with lines","status":"passed","title":"should create an invoice with lines","duration":2378,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","createInvoice"],"fullName":" InvoiceService createInvoice should throw ValidationError when client company doesn't belong to tenant","status":"passed","title":"should throw ValidationError when client company doesn't belong to tenant","duration":1502,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","updateInvoiceStatus"],"fullName":" InvoiceService updateInvoiceStatus should update invoice status","status":"passed","title":"should update invoice status","duration":1567,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","updateInvoiceStatus"],"fullName":" InvoiceService updateInvoiceStatus should throw NotFoundError when invoice not found","status":"passed","title":"should throw NotFoundError when invoice not found","duration":1716,"failureMessages":[]},{"ancestorTitles":["","InvoiceService","listInvoices"],"fullName":" InvoiceService listInvoices should return paginated list of invoices for a tenant","status":"passed","title":"should return paginated list of invoices for a tenant","duration":1563,"failureMessages":[]}],"startTime":1765235143898,"endTime":1765235152624,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/invoice-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","ReportingService","generateCompanyFinancialSummary"],"fullName":" ReportingService generateCompanyFinancialSummary should return correct structure","status":"passed","title":"should return correct structure","duration":3396,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyFinancialSummary"],"fullName":" ReportingService generateCompanyFinancialSummary should respect tenantId","status":"passed","title":"should respect tenantId","duration":2498,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyFinancialSummary"],"fullName":" ReportingService generateCompanyFinancialSummary should calculate sales and purchases correctly","status":"passed","title":"should calculate sales and purchases correctly","duration":2530,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyFinancialSummary"],"fullName":" ReportingService generateCompanyFinancialSummary should count invoices by status","status":"passed","title":"should count invoices by status","duration":2670,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyFinancialSummary"],"fullName":" ReportingService generateCompanyFinancialSummary should return 404 if company not in tenant","status":"passed","title":"should return 404 if company not in tenant","duration":2542,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyRiskSummary"],"fullName":" ReportingService generateCompanyRiskSummary should return correct structure","status":"passed","title":"should return correct structure","duration":2790,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyRiskSummary"],"fullName":" ReportingService generateCompanyRiskSummary should respect tenantId","status":"passed","title":"should respect tenantId","duration":2596,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyRiskSummary"],"fullName":" ReportingService generateCompanyRiskSummary should include latest risk score","status":"passed","title":"should include latest risk score","duration":2631,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateCompanyRiskSummary"],"fullName":" ReportingService generateCompanyRiskSummary should count open alerts by severity","status":"passed","title":"should count open alerts by severity","duration":2641,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateTenantPortfolioReport"],"fullName":" ReportingService generateTenantPortfolioReport should return correct structure","status":"passed","title":"should return correct structure","duration":2876,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateTenantPortfolioReport"],"fullName":" ReportingService generateTenantPortfolioReport should respect tenantId","status":"passed","title":"should respect tenantId","duration":2888,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateTenantPortfolioReport"],"fullName":" ReportingService generateTenantPortfolioReport should include all companies","status":"passed","title":"should include all companies","duration":2473,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateDocumentActivityReport"],"fullName":" ReportingService generateDocumentActivityReport should return correct structure","status":"passed","title":"should return correct structure","duration":2682,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateDocumentActivityReport"],"fullName":" ReportingService generateDocumentActivityReport should respect tenantId","status":"passed","title":"should respect tenantId","duration":2539,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateDocumentActivityReport"],"fullName":" ReportingService generateDocumentActivityReport should work with and without clientCompanyId","status":"passed","title":"should work with and without clientCompanyId","duration":2460,"failureMessages":[]},{"ancestorTitles":["","ReportingService","generateDocumentActivityReport"],"fullName":" ReportingService generateDocumentActivityReport should group by type and status correctly","status":"passed","title":"should group by type and status correctly","duration":2493,"failureMessages":[]}],"startTime":1765234687262,"endTime":1765234729967,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/reporting-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Document Risk Scoring"],"fullName":" Risk Engine & Alerts Integration Tests Document Risk Scoring should compute risk score with severity and triggered rule codes","status":"passed","title":"should compute risk score with severity and triggered rule codes","duration":3020,"failureMessages":[]},{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Company Risk Scoring"],"fullName":" Risk Engine & Alerts Integration Tests Company Risk Scoring should generate ClientCompanyRiskScore with correct severity","status":"passed","title":"should generate ClientCompanyRiskScore with correct severity","duration":1668,"failureMessages":[]},{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Risk Alerts"],"fullName":" Risk Engine & Alerts Integration Tests Risk Alerts should create RiskAlert for high-risk document","status":"passed","title":"should create RiskAlert for high-risk document","duration":2121,"failureMessages":[]},{"ancestorTitles":["","Risk Engine & Alerts Integration Tests","Risk Alerts"],"fullName":" Risk Engine & Alerts Integration Tests Risk Alerts should create RiskAlert for high-risk company","status":"passed","title":"should create RiskAlert for high-risk company","duration":2057,"failureMessages":[]}],"startTime":1765234663854,"endTime":1765234672720,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/risk-engine.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","ScheduledReportService","createScheduledReport"],"fullName":" ScheduledReportService createScheduledReport should create a scheduled report with valid data","status":"passed","title":"should create a scheduled report with valid data","duration":3200,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","createScheduledReport"],"fullName":" ScheduledReportService createScheduledReport should throw ValidationError for invalid report code","status":"passed","title":"should throw ValidationError for invalid report code","duration":2507,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","createScheduledReport"],"fullName":" ScheduledReportService createScheduledReport should throw NotFoundError for client company from different tenant","status":"passed","title":"should throw NotFoundError for client company from different tenant","duration":2572,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","createScheduledReport"],"fullName":" ScheduledReportService createScheduledReport should validate recipients array","status":"passed","title":"should validate recipients array","duration":4235,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","listScheduledReports"],"fullName":" ScheduledReportService listScheduledReports should return only scheduled reports for the tenant","status":"passed","title":"should return only scheduled reports for the tenant","duration":6900,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","getScheduledReportById"],"fullName":" ScheduledReportService getScheduledReportById should return scheduled report for correct tenant","status":"passed","title":"should return scheduled report for correct tenant","duration":7745,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","getScheduledReportById"],"fullName":" ScheduledReportService getScheduledReportById should throw NotFoundError for report from different tenant","status":"passed","title":"should throw NotFoundError for report from different tenant","duration":10012,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","updateScheduledReport"],"fullName":" ScheduledReportService updateScheduledReport should update scheduled report","status":"passed","title":"should update scheduled report","duration":11507,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","deactivateScheduledReport"],"fullName":" ScheduledReportService deactivateScheduledReport should deactivate scheduled report","status":"passed","title":"should deactivate scheduled report","duration":6878,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","listExecutionLogsForScheduledReport"],"fullName":" ScheduledReportService listExecutionLogsForScheduledReport should return execution logs for scheduled report","status":"passed","title":"should return execution logs for scheduled report","duration":5457,"failureMessages":[]},{"ancestorTitles":["","ScheduledReportService","listRecentExecutionLogsForTenant"],"fullName":" ScheduledReportService listRecentExecutionLogsForTenant should return recent execution logs for tenant","status":"passed","title":"should return recent execution logs for tenant","duration":5920,"failureMessages":[]}],"startTime":1765234781625,"endTime":1765234848578,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/scheduled-report-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","TransactionService","createTransaction"],"fullName":" TransactionService createTransaction should create a transaction with balanced debit and credit","status":"passed","title":"should create a transaction with balanced debit and credit","duration":2899,"failureMessages":[]},{"ancestorTitles":["","TransactionService","createTransaction"],"fullName":" TransactionService createTransaction should throw ValidationError when debit and credit totals don't match","status":"passed","title":"should throw ValidationError when debit and credit totals don't match","duration":1376,"failureMessages":[]},{"ancestorTitles":["","TransactionService","createTransaction"],"fullName":" TransactionService createTransaction should throw ValidationError when transaction has less than 2 lines","status":"passed","title":"should throw ValidationError when transaction has less than 2 lines","duration":1475,"failureMessages":[]},{"ancestorTitles":["","TransactionService","listTransactions"],"fullName":" TransactionService listTransactions should return paginated list of transactions for a tenant","status":"passed","title":"should return paginated list of transactions for a tenant","duration":1649,"failureMessages":[]},{"ancestorTitles":["","TransactionService","listTransactions"],"fullName":" TransactionService listTransactions should filter by client company when provided","status":"passed","title":"should filter by client company when provided","duration":1524,"failureMessages":[]}],"startTime":1765234983297,"endTime":1765234992220,"status":"passed","message":"","name":"/Users/md/Desktop/MyProjects-2025/AI Muhasebi/AI-Muhasebi/apps/backend-api/src/services/__tests__/transaction-service.test.ts"}]}